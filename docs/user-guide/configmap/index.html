

<!Doctype html>
<html id="docs" class="Guides">


<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="canonical" href="http://kubernetes.io/docs/user-guide/configmap/" />
	<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
        <link rel="stylesheet" href="/css/jquery-ui.min.css">
        <link rel="stylesheet" href="/css/sweetalert.css">
	<script src="/js/jquery-2.2.0.min.js"></script>
        <script src="/js/jquery-ui.min.js"></script>
	<script src="/js/script.js"></script>
        <script src="/js/sweetalert.min.js"></script>
	<title>Kubernetes - Using ConfigMap</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs/" class="button" id="viewDocs" data-auto-burger-exclude>View Documentation</a>
		<a href="/docs/hellonode/" class="button" id="tryKubernetes" data-auto-burger-exclude>Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="/docs/hellonode/">Get Started</a></h3>
				<p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>
			</div>
			<div class="nav-box">
				<h3><a href="/docs/">Documentation</a></h3>
				<p>Learn how to use Kubernetes with the use of walkthroughs, samples, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>
			</div>
			<div class="nav-box">
				<h3><a href="/community/">Community</a></h3>
				<p>If you need help, you can connect with other Kubernetes users and the Kubernetes authors, attend community events, and watch video presentations from around the web.</p>
			</div>
			<div class="nav-box">
				<h3><a href="http://blog.kubernetes.io">Blog</a></h3>
				<p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
					<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>


<!--  HERO  -->
<section id="hero" class="light-text">
	<h1>Guides</h1>
	<h5>How to get started, and achieve tasks, using Kubernetes</h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/docs/" class="YAH">GUIDES</a></li>
			<li><a href="/docs/reference" >REFERENCE</a></li>
			<li><a href="/docs/samples" >SAMPLES</a></li>
			<li><a href="/docs/troubleshooting/" >SUPPORT</a></li>
		</ul>
		<div id="searchBox">
			<input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)">
		</div>
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
        
    <a class="item" data-title="Guides" href="/docs/"></a>
<div class="item" data-title="Getting Started">
  <div class="container">
    <a class="item" data-title="What is Kubernetes?" href="/docs/whatisk8s/"></a>
    <a class="item" data-title="Downloading or Building Kubernetes" href="/docs/getting-started-guides/binary_release/"></a>
    <a class="item" data-title="Hello World Walkthrough" href="/docs/hellonode/"></a>
    <a class="item" data-title="Online Training Course" href="https://www.udacity.com/course/scalable-microservices-with-kubernetes--ud615" target='_blank'></a>
  </div>
</div>
<div class="item" data-title="Accessing the Cluster">
  <div class="container">
    <a class="item" data-title="Installing and Setting up kubectl" href="/docs/user-guide/prereqs/"></a>
    <a class="item" data-title="Accessing Clusters" href="/docs/user-guide/accessing-the-cluster/"></a>
    <a class="item" data-title="Sharing Cluster Access with kubeconfig" href="/docs/user-guide/sharing-clusters/"></a>
    <a class="item" data-title="Authenticating Across Clusters with kubeconfig" href="/docs/user-guide/kubeconfig-file/"></a>
  </div>
</div>
    <a class="item" data-title="User Guide" href="/docs/user-guide/"></a>
    <a class="item" data-title="Web UI (Dashboard)" href="/docs/user-guide/ui/"></a>
<div class="item" data-title="Workload Deployment and Management">
  <div class="container">
    <a class="item" data-title="Launching, Exposing, and Killing Applications" href="/docs/user-guide/quick-start/"></a>
    <a class="item" data-title="Deploying Applications" href="/docs/user-guide/deploying-applications/"></a>
    <a class="item" data-title="Managing Resources" href="/docs/user-guide/managing-deployments/"></a>
    <a class="item" data-title="Replication Controller Operations" href="/docs/user-guide/replication-controller/operations/"></a>
    <a class="item" data-title="Resizing a Replication Controller" href="/docs/user-guide/resizing-a-replication-controller/"></a>
    <a class="item" data-title="Rolling Updates" href="/docs/user-guide/rolling-updates/"></a>
    <a class="item" data-title="Rolling Update Demo" href="/docs/user-guide/update-demo/"></a>
    <a class="item" data-title="Secrets Walkthrough" href="/docs/user-guide/secrets/walkthrough/"></a>
    <a class="item" data-title="Using ConfigMap" href="/docs/user-guide/configmap/"></a>
    <a class="item" data-title="Horizontal Pod Autoscaling" href="/docs/user-guide/horizontal-pod-autoscaling/walkthrough/"></a>
    <a class="item" data-title="Best Practices for Configuration" href="/docs/user-guide/config-best-practices/"></a>
    <a class="item" data-title="Using kubectl to Manage Resources" href="/docs/user-guide/working-with-resources/"></a>
    <a class="item" data-title="Garbage collection" href="/docs/user-guide/garbage-collector/"></a>
  </div>
</div>
<div class="item" data-title="Batch Jobs">
  <div class="container">
    <a class="item" data-title="Jobs" href="/docs/user-guide/jobs/"></a>
    <a class="item" data-title="Parallel Processing using Expansions" href="/docs/user-guide/jobs/expansions/"></a>
    <a class="item" data-title="Coarse Parallel Processing using a Work Queue" href="/docs/user-guide/jobs/work-queue-1/"></a>
    <a class="item" data-title="Fine Parallel Processing using a Work Queue" href="/docs/user-guide/jobs/work-queue-2/"></a>
  </div>
</div>
<div class="item" data-title="Service Discovery and Load Balancing">
  <div class="container">
    <a class="item" data-title="Connecting Applications with Services" href="/docs/user-guide/connecting-applications/"></a>
    <a class="item" data-title="Service Operations" href="/docs/user-guide/services/operations/"></a>
    <a class="item" data-title="Creating an External Load Balancer" href="/docs/user-guide/load-balancer/"></a>
    <a class="item" data-title="Configuring Your Cloud Provider's Firewalls" href="/docs/user-guide/services-firewalls/"></a>
    <a class="item" data-title="Cross-cluster Service Discovery using Federated Services" href="/docs/user-guide/federation/federated-services/"></a>
  </div>
</div>
<div class="item" data-title="Containers and Pods">
  <div class="container">
    <a class="item" data-title="Running Your First Containers" href="/docs/user-guide/simple-nginx/"></a>
    <a class="item" data-title="Creating Single-Container Pods" href="/docs/user-guide/pods/single-container/"></a>
    <a class="item" data-title="Creating Multi-Container Pods" href="/docs/user-guide/pods/multi-container/"></a>
    <a class="item" data-title="Configuring Containers" href="/docs/user-guide/configuring-containers/"></a>
    <a class="item" data-title="Working with Containers in Production" href="/docs/user-guide/production-pods/"></a>
    <a class="item" data-title="Commands and Capabilities" href="/docs/user-guide/containers/"></a>
    <a class="item" data-title="Using Environment Variables" href="/docs/user-guide/environment-guide/"></a>
    <a class="item" data-title="Managing Compute Resources" href="/docs/user-guide/compute-resources/"></a>
    <a class="item" data-title="The Lifecycle of a Pod" href="/docs/user-guide/pod-states/"></a>
    <a class="item" data-title="Checking Pod Health" href="/docs/user-guide/liveness/"></a>
    <a class="item" data-title="Container Lifecycle Hooks" href="/docs/user-guide/container-environment/"></a>
    <a class="item" data-title="Assigning Pods to Nodes" href="/docs/user-guide/node-selection/"></a>
    <a class="item" data-title="Using the Downward API to Convey Pod Properties" href="/docs/user-guide/downward-api/"></a>
    <a class="item" data-title="Downward API Volumes" href="/docs/user-guide/downward-api/volume"></a>
    <a class="item" data-title="Persistent Volumes Walkthrough" href="/docs/user-guide/persistent-volumes/walkthrough/"></a>
    <a class="item" data-title="Bootstrapping Pet Sets" href="/docs/user-guide/petset/bootstrapping/"></a>
  </div>
</div>
<div class="item" data-title="Monitoring, Logging, and Debugging Containers">
  <div class="container">
    <a class="item" data-title="Resource Usage Monitoring" href="/docs/user-guide/monitoring/"></a>
    <a class="item" data-title="Logging" href="/docs/getting-started-guides/logging/"></a>
    <a class="item" data-title="Logging with Elasticsearch and Kibana" href="/docs/getting-started-guides/logging-elasticsearch/"></a>
    <a class="item" data-title="Running Commands in a Container with kubectl exec" href="/docs/user-guide/getting-into-containers/"></a>
    <a class="item" data-title="Connect with Proxies" href="/docs/user-guide/connecting-to-applications-proxy/"></a>
    <a class="item" data-title="Connect with Port Forwarding" href="/docs/user-guide/connecting-to-applications-port-forward/"></a>
    <a class="item" data-title="Using Explorer to Examine the Runtime Environment" href="https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/explorer" target='_blank'></a>
  </div>
</div>
<div class="item" data-title="Creating a Cluster">
  <div class="container">
    <a class="item" data-title="Picking the Right Solution" href="/docs/getting-started-guides/"></a>
<div class="item" data-title="Running Kubernetes on Your Local Machine">
  <div class="container">
    <a class="item" data-title="Running Kubernetes Locally via Minikube" href="/docs/getting-started-guides/minikube/"></a>
    <a class="item" data-title="Deprecated Alternatives" href="/docs/getting-started-guides/alternatives/"></a>
  </div>
</div>
<div class="item" data-title="Running Kubernetes on Turn-key Cloud Solutions">
  <div class="container">
    <a class="item" data-title="Running Kubernetes on Google Container Engine" href="https://cloud.google.com/container-engine/docs/before-you-begin/" target='_blank'></a>
    <a class="item" data-title="Running Kubernetes on Google Compute Engine" href="/docs/getting-started-guides/gce/"></a>
    <a class="item" data-title="Running Kubernetes on AWS EC2" href="/docs/getting-started-guides/aws/"></a>
    <a class="item" data-title="Running Kubernetes on Azure (Weave-based)" href="/docs/getting-started-guides/coreos/azure/"></a>
    <a class="item" data-title="Running Kubernetes on Azure (Flannel-based)" href="/docs/getting-started-guides/azure/"></a>
    <a class="item" data-title="Running Kubernetes on CenturyLink Cloud" href="/docs/getting-started-guides/clc/"></a>
  </div>
</div>
<div class="item" data-title="Running Kubernetes on Custom Solutions">
  <div class="container">
    <a class="item" data-title="Creating a Custom Cluster from Scratch" href="/docs/getting-started-guides/scratch/"></a>
<div class="item" data-title="Custom Cloud Solutions">
  <div class="container">
    <a class="item" data-title="CoreOS on AWS or GCE" href="/docs/getting-started-guides/coreos/"></a>
    <a class="item" data-title="Ubuntu on AWS or Joyent" href="/docs/getting-started-guides/juju/"></a>
    <a class="item" data-title="CoreOS on Rackspace" href="/docs/getting-started-guides/rackspace/"></a>
  </div>
</div>
<div class="item" data-title="On-Premise VMs">
  <div class="container">
    <a class="item" data-title="CoreOS on Vagrant" href="/docs/getting-started-guides/coreos/"></a>
    <a class="item" data-title="Cloudstack" href="/docs/getting-started-guides/cloudstack/"></a>
    <a class="item" data-title="VMware vSphere" href="/docs/getting-started-guides/vsphere/"></a>
    <a class="item" data-title="VMware Photon Controller" href="/docs/getting-started-guides/photon-controller/"></a>
    <a class="item" data-title="Juju" href="/docs/getting-started-guides/juju/"></a>
    <a class="item" data-title="DCOS" href="/docs/getting-started-guides/dcos/"></a>
    <a class="item" data-title="CoreOS on libvirt" href="/docs/getting-started-guides/libvirt-coreos/"></a>
    <a class="item" data-title="oVirt" href="/docs/getting-started-guides/ovirt/"></a>
    <a class="item" data-title="OpenStack Heat" href="/docs/getting-started-guides/openstack-heat/"></a>
    <a class="item" data-title="CoreOS on Multinode Cluster" href="/docs/getting-started-guides/coreos/coreos_multinode_cluster/"></a>
    <a class="item" data-title="Fedora With Calico Networking" href="/docs/getting-started-guides/fedora/fedora-calico/"></a>
<div class="item" data-title="rkt">
  <div class="container">
    <a class="item" data-title="Running Kubernetes with rkt" href="/docs/getting-started-guides/rkt/"></a>
    <a class="item" data-title="Known Issues when Using rkt" href="/docs/getting-started-guides/rkt/notes/"></a>
  </div>
</div>
    <a class="item" data-title="Kubernetes on Mesos" href="/docs/getting-started-guides/mesos/"></a>
    <a class="item" data-title="Kubernetes on Mesos on Docker" href="/docs/getting-started-guides/mesos-docker/"></a>
  </div>
</div>
<div class="item" data-title="Bare Metal">
  <div class="container">
    <a class="item" data-title="Offline" href="/docs/getting-started-guides/coreos/bare_metal_offline/"></a>
    <a class="item" data-title="Fedora via Ansible" href="/docs/getting-started-guides/fedora/fedora_ansible_config/"></a>
    <a class="item" data-title="Fedora (Single Node)" href="/docs/getting-started-guides/fedora/fedora_manual_config/"></a>
    <a class="item" data-title="Fedora (Multi Node)" href="/docs/getting-started-guides/fedora/flannel_multi_node_cluster/"></a>
    <a class="item" data-title="CentOS" href="/docs/getting-started-guides/centos/centos_manual_config/"></a>
    <a class="item" data-title="CoreOS" href="/docs/getting-started-guides/coreos"></a>
    <a class="item" data-title="CoreOS with Calico" href="/docs/getting-started-guides/coreos/bare_metal_calico/"></a>
    <a class="item" data-title="Ubuntu" href="/docs/getting-started-guides/ubuntu/"></a>
    <a class="item" data-title="Ubuntu Nodes with Calico" href="/docs/getting-started-guides/ubuntu-calico/"></a>
  </div>
</div>
  </div>
</div>
    <a class="item" data-title="Portable Multi-Node Cluster" href="/docs/getting-started-guides/docker-multinode/"></a>
    <a class="item" data-title="Building Large Clusters" href="/docs/admin/cluster-large/"></a>
    <a class="item" data-title="Running in Multiple Zones" href="/docs/admin/multiple-zones/"></a>
    <a class="item" data-title="Building High-Availability Clusters" href="/docs/admin/high-availability/"></a>
  </div>
</div>
<div class="item" data-title="Administering Clusters">
  <div class="container">
    <a class="item" data-title="Admin Guide" href="/docs/admin/"></a>
    <a class="item" data-title="Cluster Management Guide" href="/docs/admin/cluster-management/"></a>
    <a class="item" data-title="Sharing a Cluster with Namespaces" href="/docs/admin/namespaces/"></a>
    <a class="item" data-title="Namespaces Walkthrough" href="/docs/admin/namespaces/walkthrough/"></a>
    <a class="item" data-title="Setting Pod CPU and Memory Limits" href="/docs/admin/limitrange/"></a>
    <a class="item" data-title="Understanding Resource Quotas" href="/docs/admin/resourcequota/"></a>
    <a class="item" data-title="Applying Resource Quotas and Limits" href="/docs/admin/resourcequota/walkthrough/"></a>
    <a class="item" data-title="Kubernetes Components" href="/docs/admin/cluster-components/"></a>
    <a class="item" data-title="Configuring Kubernetes Use of etcd" href="/docs/admin/etcd/"></a>
    <a class="item" data-title="Federating Clusters" href="/docs/admin/federation/"></a>
    <a class="item" data-title="Using Multiple Clusters" href="/docs/admin/multi-cluster/"></a>
    <a class="item" data-title="Changing Cluster Size" href="https://github.com/kubernetes/kubernetes/wiki/User-FAQ#how-do-i-change-the-size-of-my-cluster/" target='_blank'></a>
    <a class="item" data-title="Configuring Multiple Schedulers" href="/docs/admin/multiple-schedulers/"></a>
    <a class="item" data-title="Networking in Kubernetes" href="/docs/admin/networking/"></a>
    <a class="item" data-title="Using DNS Pods and Services" href="/docs/admin/dns/"></a>
    <a class="item" data-title="Setting Up and Configuring DNS" href="https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/cluster-dns" target='_blank'></a>
    <a class="item" data-title="Master <-> Node Communication" href="/docs/admin/master-node-communication/"></a>
    <a class="item" data-title="Network Plugins" href="/docs/admin/network-plugins/"></a>
    <a class="item" data-title="Static Pods" href="/docs/admin/static-pods/"></a>
    <a class="item" data-title="Configuring kubelet Garbage Collection" href="/docs/admin/garbage-collection/"></a>
    <a class="item" data-title="Configuring Out Of Resource Handling" href="/docs/admin/out-of-resource/"></a>
    <a class="item" data-title="Configuring Kubernetes with Salt" href="/docs/admin/salt/"></a>
    <a class="item" data-title="Monitoring Node Health" href="/docs/admin/node-problem/"></a>
  </div>
</div>
        </div> <!-- /pi-accordion -->
		<button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
	</div> <!-- /docsToc -->
	<div id="docsContent">
        <p><a href="/editdocs#docs/user-guide/configmap/index.md" id="editPageButton">Edit This Page</a></p>
    	<h1>Using ConfigMap</h1>
		<p>Many applications require configuration via some combination of config files, command line
arguments, and environment variables.  These configuration artifacts should be decoupled from image
content in order to keep containerized applications portable.  The ConfigMap API resource provides
mechanisms to inject containers with configuration data while keeping containers agnostic of
Kubernetes.  ConfigMap can be used to store fine-grained information like individual properties or
coarse-grained information like entire config files or JSON blobs.</p>

<h2 id="overview-of-configmap">Overview of ConfigMap</h2>

<p>The ConfigMap API resource holds key-value pairs of configuration data that can be consumed in pods
or used to store configuration data for system components such as controllers.  ConfigMap is similar
to <a href="/docs/user-guide/secrets/">Secrets</a>, but designed to more conveniently support working with strings that do not
contain sensitive information.</p>

<p>Let’s look at a made-up example:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">creationTimestamp</span><span class="pi">:</span> <span class="s">2016-02-18T19:14:38Z</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">example-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">example.property.1</span><span class="pi">:</span> <span class="s">hello</span>
  <span class="s">example.property.2</span><span class="pi">:</span> <span class="s">world</span>
  <span class="s">example.property.file</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="no">property.1=value-1</span>
    <span class="no">property.2=value-2</span>
    <span class="no">property.3=value-3</span>
</code></pre>
</div>

<p>The <code class="highlighter-rouge">data</code> field contains the configuration data.  As you can see, ConfigMaps can be used to hold
fine-grained information like individual properties or coarse-grained information like the contents
of configuration files.</p>

<p>Configuration data can be consumed in pods in a variety of ways.  ConfigMaps can be used to:</p>

<ol>
  <li>Populate the value of environment variables</li>
  <li>Set command-line arguments in a container</li>
  <li>Populate config files in a volume</li>
</ol>

<p>Both users and system components may store configuration data in ConfigMap.</p>

<h2 id="creating-configmaps">Creating ConfigMaps</h2>

<p>You can use the <code class="highlighter-rouge">kubectl create configmap</code> command to create configmaps easily from literal values,
files, or directories.</p>

<p>Let’s take a look at some different ways to create a ConfigMap:</p>

<h3 id="creating-from-directories">Creating from directories</h3>

<p>Say that we have a directory with some files that already contain the data we want to populate a ConfigMap with:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>ls docs/user-guide/configmap/kubectl/
game.properties
ui.properties

<span class="gp">$ </span>cat docs/user-guide/configmap/kubectl/game.properties
<span class="nv">enemies</span><span class="o">=</span>aliens
<span class="nv">lives</span><span class="o">=</span>3
enemies.cheat<span class="o">=</span><span class="nb">true
</span>enemies.cheat.level<span class="o">=</span>noGoodRotten
secret.code.passphrase<span class="o">=</span>UUDDLRLRBABAS
secret.code.allowed<span class="o">=</span><span class="nb">true
</span>secret.code.lives<span class="o">=</span>30

<span class="gp">$ </span>cat docs/user-guide/configmap/kubectl/ui.properties
color.good<span class="o">=</span>purple
color.bad<span class="o">=</span>yellow
allow.textmode<span class="o">=</span><span class="nb">true
</span>how.nice.to.look<span class="o">=</span>fairlyNice
</code></pre>
</div>

<p>The <code class="highlighter-rouge">kubectl create configmap</code> command can be used to create a ConfigMap holding the content of each
file in this directory:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl create configmap game-config --from-file<span class="o">=</span>docs/user-guide/configmap/kubectl
</code></pre>
</div>

<p>When <code class="highlighter-rouge">--from-file</code> points to a directory, each file directly in that directory is used to populate a
key in the ConfigMap, where the name of the key is the filename, and the value of the key is the
content of the file.</p>

<p>Let’s take a look at the ConfigMap that this command created:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl describe configmaps game-config
Name:           game-config
Namespace:      default
Labels:         &lt;none&gt;
Annotations:    &lt;none&gt;

Data
<span class="o">====</span>
game.properties:        121 bytes
ui.properties:          83 bytes
</code></pre>
</div>

<p>You can see the two keys in the map are created from the filenames in the directory we pointed
kubectl to.  Since the content of those keys may be large, in the output of <code class="highlighter-rouge">kubectl describe</code>,
you’ll see only the names of the keys and their sizes.</p>

<p>If we want to see the values of the keys, we can simply <code class="highlighter-rouge">kubectl get</code> the resource:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl get configmaps game-config -o yaml
</code></pre>
</div>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">game.properties</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="no">enemies=aliens</span>
    <span class="no">lives=3</span>
    <span class="no">enemies.cheat=true</span>
    <span class="no">enemies.cheat.level=noGoodRotten</span>
    <span class="no">secret.code.passphrase=UUDDLRLRBABAS</span>
    <span class="no">secret.code.allowed=true</span>
    <span class="no">secret.code.lives=30</span>
  <span class="no">ui.properties: |</span>
    <span class="no">color.good=purple</span>
    <span class="no">color.bad=yellow</span>
    <span class="no">allow.textmode=true</span>
    <span class="no">how.nice.to.look=fairlyNice</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">creationTimestamp</span><span class="pi">:</span> <span class="s">2016-02-18T18:34:05Z</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">game-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
  <span class="s">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">407"-</span>
  <span class="s">selfLink</span><span class="pi">:</span> <span class="s">/api/v1/namespaces/default/configmaps/game-config</span>
  <span class="s">uid</span><span class="pi">:</span> <span class="s">30944725-d66e-11e5-8cd0-68f728db1985</span>
</code></pre>
</div>

<h3 id="creating-from-files">Creating from files</h3>

<p>We can also pass <code class="highlighter-rouge">--from-file</code> a specific file, and pass it multiple times to kubectl.  The
following command yields equivalent results to the above example:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl create configmap game-config-2 --from-file<span class="o">=</span>docs/user-guide/configmap/kubectl/game.properties --from-file<span class="o">=</span>docs/user-guide/configmap/kubectl/ui.properties

<span class="gp">$ </span>kubectl get configmaps game-config-2 -o yaml
</code></pre>
</div>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">game.properties</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="no">enemies=aliens</span>
    <span class="no">lives=3</span>
    <span class="no">enemies.cheat=true</span>
    <span class="no">enemies.cheat.level=noGoodRotten</span>
    <span class="no">secret.code.passphrase=UUDDLRLRBABAS</span>
    <span class="no">secret.code.allowed=true</span>
    <span class="no">secret.code.lives=30</span>
  <span class="no">ui.properties: |</span>
    <span class="no">color.good=purple</span>
    <span class="no">color.bad=yellow</span>
    <span class="no">allow.textmode=true</span>
    <span class="no">how.nice.to.look=fairlyNice</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">creationTimestamp</span><span class="pi">:</span> <span class="s">2016-02-18T18:52:05Z</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">game-config-2</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
  <span class="s">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">516"</span>
  <span class="s">selfLink</span><span class="pi">:</span> <span class="s">/api/v1/namespaces/default/configmaps/game-config-2</span>
  <span class="s">uid</span><span class="pi">:</span> <span class="s">b4952dc3-d670-11e5-8cd0-68f728db1985</span>
</code></pre>
</div>

<p>We can also set the key to use for an individual file with <code class="highlighter-rouge">--from-file</code> by passing an expression
of <code class="highlighter-rouge">key=value</code>: <code class="highlighter-rouge">--from-file=game-special-key=docs/user-guide/configmap/kubectl/game.properties</code>:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl create configmap game-config-3 --from-file<span class="o">=</span>game-special-key<span class="o">=</span>docs/user-guide/configmap/kubectl/game.properties

<span class="gp">$ </span>kubectl get configmaps game-config-3 -o yaml
</code></pre>
</div>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">game-special-key</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="no">enemies=aliens</span>
    <span class="no">lives=3</span>
    <span class="no">enemies.cheat=true</span>
    <span class="no">enemies.cheat.level=noGoodRotten</span>
    <span class="no">secret.code.passphrase=UUDDLRLRBABAS</span>
    <span class="no">secret.code.allowed=true</span>
    <span class="no">secret.code.lives=30</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">creationTimestamp</span><span class="pi">:</span> <span class="s">2016-02-18T18:54:22Z</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">game-config-3</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
  <span class="s">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">530"</span>
  <span class="s">selfLink</span><span class="pi">:</span> <span class="s">/api/v1/namespaces/default/configmaps/game-config-3</span>
  <span class="s">uid</span><span class="pi">:</span> <span class="s">05f8da22-d671-11e5-8cd0-68f728db1985</span>
</code></pre>
</div>

<h3 id="creating-from-literal-values">Creating from literal values</h3>

<p>It is also possible to supply literal values for ConfigMaps using <code class="highlighter-rouge">kubectl create configmap</code>.  The
<code class="highlighter-rouge">--from-literal</code> option takes a <code class="highlighter-rouge">key=value</code> syntax that allows literal values to be supplied
directly on the command line:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl create configmap special-config --from-literal<span class="o">=</span>special.how<span class="o">=</span>very --from-literal<span class="o">=</span>special.type<span class="o">=</span>charm

<span class="gp">$ </span>kubectl get configmaps special-config -o yaml
</code></pre>
</div>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">special.how</span><span class="pi">:</span> <span class="s">very</span>
  <span class="s">special.type</span><span class="pi">:</span> <span class="s">charm</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">creationTimestamp</span><span class="pi">:</span> <span class="s">2016-02-18T19:14:38Z</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
  <span class="s">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">651"</span>
  <span class="s">selfLink</span><span class="pi">:</span> <span class="s">/api/v1/namespaces/default/configmaps/special-config</span>
  <span class="s">uid</span><span class="pi">:</span> <span class="s">dadce046-d673-11e5-8cd0-68f728db1985</span>
</code></pre>
</div>

<h2 id="consuming-configmap-in-pods">Consuming ConfigMap in pods</h2>

<h3 id="use-case-consume-configmap-in-environment-variables">Use-Case: Consume ConfigMap in environment variables</h3>

<p>ConfigMaps can be used to populate environment variables.  As an example, consider
the following ConfigMap:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">special.how</span><span class="pi">:</span> <span class="s">very</span>
  <span class="s">special.type</span><span class="pi">:</span> <span class="s">charm</span>
</code></pre>
</div>

<p>We can consume the keys of this ConfigMap in a pod like so:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">dapi-test-pod</span>
<span class="s">spec</span><span class="pi">:</span>
  <span class="s">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">test-container</span>
      <span class="s">image</span><span class="pi">:</span> <span class="s">gcr.io/google_containers/busybox</span>
      <span class="s">command</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-c"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">env"</span> <span class="pi">]</span>
      <span class="s">env</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">SPECIAL_LEVEL_KEY</span>
          <span class="s">valueFrom</span><span class="pi">:</span>
            <span class="s">configMapKeyRef</span><span class="pi">:</span>
              <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
              <span class="s">key</span><span class="pi">:</span> <span class="s">special.how</span>
        <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">SPECIAL_TYPE_KEY</span>
          <span class="s">valueFrom</span><span class="pi">:</span>
            <span class="s">configMapKeyRef</span><span class="pi">:</span>
              <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
              <span class="s">key</span><span class="pi">:</span> <span class="s">special.type</span>
  <span class="s">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
</code></pre>
</div>

<p>When this pod is run, its output will include the lines:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="nv">SPECIAL_LEVEL_KEY</span><span class="o">=</span>very
<span class="nv">SPECIAL_TYPE_KEY</span><span class="o">=</span>charm
</code></pre>
</div>

<h3 id="use-case-set-command-line-arguments-with-configmap">Use-Case: Set command-line arguments with ConfigMap</h3>

<p>ConfigMaps can also be used to set the value of the command or arguments in a container.  This is
accomplished using the kubernetes substitution syntax <code class="highlighter-rouge">$(VAR_NAME)</code>.  Consider the ConfigMap:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">special.how</span><span class="pi">:</span> <span class="s">very</span>
  <span class="s">special.type</span><span class="pi">:</span> <span class="s">charm</span>
</code></pre>
</div>

<p>In order to inject values into the command line, we must consume the keys we want to use as
environment variables, as in the last example.  Then we can refer to them in a container’s command
using the <code class="highlighter-rouge">$(VAR_NAME)</code> syntax.</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">dapi-test-pod</span>
<span class="s">spec</span><span class="pi">:</span>
  <span class="s">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">test-container</span>
      <span class="s">image</span><span class="pi">:</span> <span class="s">gcr.io/google_containers/busybox</span>
      <span class="s">command</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-c"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">echo</span><span class="nv"> </span><span class="s">$(SPECIAL_LEVEL_KEY)</span><span class="nv"> </span><span class="s">$(SPECIAL_TYPE_KEY)"</span> <span class="pi">]</span>
      <span class="s">env</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">SPECIAL_LEVEL_KEY</span>
          <span class="s">valueFrom</span><span class="pi">:</span>
            <span class="s">configMapKeyRef</span><span class="pi">:</span>
              <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
              <span class="s">key</span><span class="pi">:</span> <span class="s">special.how</span>
        <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">SPECIAL_TYPE_KEY</span>
          <span class="s">valueFrom</span><span class="pi">:</span>
            <span class="s">configMapKeyRef</span><span class="pi">:</span>
              <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
              <span class="s">key</span><span class="pi">:</span> <span class="s">special.type</span>
  <span class="s">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
</code></pre>
</div>

<p>When this pod is run, the output from the <code class="highlighter-rouge">test-container</code> container will be:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>very charm
</code></pre>
</div>

<h3 id="use-case-consume-configmap-via-volume-plugin">Use-Case: Consume ConfigMap via volume plugin</h3>

<p>ConfigMaps can also be consumed in volumes.  Returning again to our example ConfigMap:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">special.how</span><span class="pi">:</span> <span class="s">very</span>
  <span class="s">special.type</span><span class="pi">:</span> <span class="s">charm</span>
</code></pre>
</div>

<p>We have a couple different options for consuming this ConfigMap in a volume.  The most basic
way is to populate the volume with files where the key is the filename and the content of the file
is the value of the key:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">dapi-test-pod</span>
<span class="s">spec</span><span class="pi">:</span>
  <span class="s">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">test-container</span>
      <span class="s">image</span><span class="pi">:</span> <span class="s">gcr.io/google_containers/busybox</span>
      <span class="s">command</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-c"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">cat</span><span class="nv"> </span><span class="s">/etc/config/special.how"</span> <span class="pi">]</span>
      <span class="s">volumeMounts</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">config-volume</span>
        <span class="s">mountPath</span><span class="pi">:</span> <span class="s">/etc/config</span>
  <span class="s">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">config-volume</span>
      <span class="s">configMap</span><span class="pi">:</span>
        <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
  <span class="s">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
</code></pre>
</div>

<p>When this pod is run, the output will be:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>very
</code></pre>
</div>

<p>We can also control the paths within the volume where ConfigMap keys are projected:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">dapi-test-pod</span>
<span class="s">spec</span><span class="pi">:</span>
  <span class="s">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">test-container</span>
      <span class="s">image</span><span class="pi">:</span> <span class="s">gcr.io/google_containers/busybox</span>
      <span class="s">command</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">,</span><span class="s2">"</span><span class="s">-c"</span><span class="pi">,</span><span class="s2">"</span><span class="s">cat</span><span class="nv"> </span><span class="s">/etc/config/path/to/special-key"</span> <span class="pi">]</span>
      <span class="s">volumeMounts</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">config-volume</span>
        <span class="s">mountPath</span><span class="pi">:</span> <span class="s">/etc/config</span>
  <span class="s">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">config-volume</span>
      <span class="s">configMap</span><span class="pi">:</span>
        <span class="s">name</span><span class="pi">:</span> <span class="s">special-config</span>
        <span class="s">items</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">key</span><span class="pi">:</span> <span class="s">special.how</span>
          <span class="s">path</span><span class="pi">:</span> <span class="s">path/to/special-key</span>
  <span class="s">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
</code></pre>
</div>

<p>When this pod is run, the output will be:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>very
</code></pre>
</div>

<h2 id="real-world-example-configuring-redis">Real World Example: Configuring Redis</h2>

<p>Let’s take a look at a real-world example: configuring redis using ConfigMap.  Say we want to inject
redis with the recommendation configuration for using redis as a cache.  The redis config file
should contain:</p>

<div class="language-conf highlighter-rouge"><pre class="highlight"><code><span class="n">maxmemory</span> <span class="m">2</span><span class="n">mb</span>
<span class="n">maxmemory</span>-<span class="n">policy</span> <span class="n">allkeys</span>-<span class="n">lru</span>
</code></pre>
</div>

<p>Such a file is in <code class="highlighter-rouge">docs/user-guide/configmap/redis</code>; we can use the following command to create a
ConfigMap instance with it:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl create configmap example-redis-config --from-file<span class="o">=</span>docs/user-guide/configmap/redis/redis-config

<span class="gp">$ </span>kubectl get configmap example-redis-config -o yaml
</code></pre>
</div>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">data</span><span class="pi">:</span>
  <span class="s">redis-config</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="no">maxmemory 2mb</span>
    <span class="no">maxmemory-policy allkeys-lru</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">creationTimestamp</span><span class="pi">:</span> <span class="s">2016-03-30T18:14:41Z</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">example-redis-config</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">default</span>
  <span class="s">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">24686"</span>
  <span class="s">selfLink</span><span class="pi">:</span> <span class="s">/api/v1/namespaces/default/configmaps/example-redis-config</span>
  <span class="s">uid</span><span class="pi">:</span> <span class="s">460a2b6e-f6a3-11e5-8ae5-42010af00002</span>
</code></pre>
</div>

<p>Now, let’s create a pod that uses this config:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="s">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="s">metadata</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">redis</span>
<span class="s">spec</span><span class="pi">:</span>
  <span class="s">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">redis</span>
    <span class="s">image</span><span class="pi">:</span> <span class="s">kubernetes/redis:v1</span>
    <span class="s">env</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">MASTER</span>
      <span class="s">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="s">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">containerPort</span><span class="pi">:</span> <span class="s">6379</span>
    <span class="s">resources</span><span class="pi">:</span>
      <span class="s">limits</span><span class="pi">:</span>
        <span class="s">cpu</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0.1"</span>
    <span class="s">volumeMounts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">mountPath</span><span class="pi">:</span> <span class="s">/redis-master-data</span>
      <span class="s">name</span><span class="pi">:</span> <span class="s">data</span>
    <span class="pi">-</span> <span class="s">mountPath</span><span class="pi">:</span> <span class="s">/redis-master</span>
      <span class="s">name</span><span class="pi">:</span> <span class="s">config</span>
  <span class="s">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">data</span>
      <span class="s">emptyDir</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">config</span>
      <span class="s">configMap</span><span class="pi">:</span>
        <span class="s">name</span><span class="pi">:</span> <span class="s">example-redis-config</span>
        <span class="s">items</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">key</span><span class="pi">:</span> <span class="s">redis-config</span>
          <span class="s">path</span><span class="pi">:</span> <span class="s">redis.conf</span>
</code></pre>
</div>

<p>Notice that this pod has a ConfigMap volume that places the <code class="highlighter-rouge">redis-config</code> key of the
<code class="highlighter-rouge">example-redis-config</code> ConfigMap into a file called <code class="highlighter-rouge">redis.conf</code>.  This volume is mounted into the
<code class="highlighter-rouge">/redis-master</code> directory in the redis container, placing our config file at
<code class="highlighter-rouge">/redis-master/redis.conf</code>, which is where the image looks for the redis config file for the master.</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl create -f docs/user-guide/configmap/redis/redis-pod.yaml
</code></pre>
</div>

<p>If we <code class="highlighter-rouge">kubectl exec</code> into this pod and run the <code class="highlighter-rouge">redis-cli</code> tool, we can check that our config was
applied correctly:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl <span class="nb">exec</span> -it redis redis-cli
<span class="gp">127.0.0.1:6379&gt; </span>CONFIG GET maxmemory
1<span class="o">)</span> <span class="s2">"maxmemory"</span>
2<span class="o">)</span> <span class="s2">"2097152"</span>
<span class="gp">127.0.0.1:6379&gt; </span>CONFIG GET maxmemory-policy
1<span class="o">)</span> <span class="s2">"maxmemory-policy"</span>
2<span class="o">)</span> <span class="s2">"allkeys-lru"</span>
</code></pre>
</div>

<h2 id="restrictions">Restrictions</h2>

<p>ConfigMaps must be created before they are consumed in pods.  Controllers may be written to tolerate
missing configuration data; consult individual components configured via ConfigMap on a case-by-case
basis.</p>

<p>ConfigMaps reside in a namespace.   They can only be referenced by pods in the same namespace.</p>

<p>Quota for ConfigMap size is a planned feature.</p>

<p>Kubelet only supports use of ConfigMap for pods it gets from the API server.  This includes any pods
created using kubectl, or indirectly via a replication controller.  It does not include pods created
via the Kubelet’s <code class="highlighter-rouge">--manifest-url</code> flag, its <code class="highlighter-rouge">--config</code> flag, or its REST API (these are not common
ways to create pods.)</p>

        <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/user-guide/configmap/index.md?pixel" alt="Analytics" /></a>
        <div id="pd_rating_holder_8345992"></div>
		<script type="text/javascript">
	        PDRTJS_settings_8345992 = {
		        "id" : "8345992",
		        "unique_id" : "/docs/user-guide/configmap/",
		        "title" : "Using ConfigMap",
		        "permalink" : "http://kubernetes.github.io/docs/user-guide/configmap/"
	        };
	        (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
        </script>
	</div>
</section>

<footer>
	<main class="light-text">
		<nav>
			<a href="/docs/hellonode/">Get Started</a>
			<a href="/docs/">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/community/">Community</a>
		</nav>
		<div class="social">
			<div>
				<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
				<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
				<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			</div>
			<div>
				<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
				<a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
				<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
			</div>
			<div>
				<span>I wish this page</span>
				<input type="text" id="wishField" name="wishField" placeholder="enter your wish">
			</div>
		</div>
		<div id="miceType" class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>


<button class="flyout-button" onclick="kub.toggleToc()"></button>

<style>
	.cse .gsc-control-cse, .gsc-control-cse, {
		padding: 0;
	}
	.gsc-control-cse table, .gsc-control-cse-en table {
		margin:0px !important;
	}

	.gsc-above-wrapper-area {
		border-bottom: 0;
	}
</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36037335-10', 'auto');
  ga('send', 'pageview');
</script>
<!-- Commenting out AnswerDash for now; we need to work on our list of questions/answers/design first
<!-- Start of AnswerDash script <script>var AnswerDash;!function(e,t,n,s,a){if(!t.getElementById(s)){var i,r=t.createElement(n),c=t.getElementsByTagName(n)[0];e[a]||(i=e[a]=function(){i.__oninit.push(arguments)},i.__oninit=[]),r.type="text/javascript",r.async=!0,r.src="https://p1.answerdash.com/answerdash.min.js?siteid=756",r.setAttribute("id",s),c.parentNode.insertBefore(r,c)}}(window,document,"script","answerdash-script","AnswerDash");</script> <!-- End of AnswerDash script -->
</body>
</html>
