

<!Doctype html>
<html id="docs" class="Guides">


<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="canonical" href="http://kubernetes.io/docs/getting-started-guides/gce/" />
	<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
        <link rel="stylesheet" href="/css/jquery-ui.min.css">
        <link rel="stylesheet" href="/css/sweetalert.css">
	<script src="/js/jquery-2.2.0.min.js"></script>
        <script src="/js/jquery-ui.min.js"></script>
	<script src="/js/script.js"></script>
        <script src="/js/sweetalert.min.js"></script>
	<title>Kubernetes - Running Kubernetes on Google Compute Engine</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs/" class="button" id="viewDocs" data-auto-burger-exclude>View Documentation</a>
		<a href="/docs/hellonode/" class="button" id="tryKubernetes" data-auto-burger-exclude>Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="/docs/hellonode/">Get Started</a></h3>
				<p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>
			</div>
			<div class="nav-box">
				<h3><a href="/docs/">Documentation</a></h3>
				<p>Learn how to use Kubernetes with the use of walkthroughs, samples, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>
			</div>
			<div class="nav-box">
				<h3><a href="/community/">Community</a></h3>
				<p>If you need help, you can connect with other Kubernetes users and the Kubernetes authors, attend community events, and watch video presentations from around the web.</p>
			</div>
			<div class="nav-box">
				<h3><a href="http://blog.kubernetes.io">Blog</a></h3>
				<p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
					<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>


<!--  HERO  -->
<section id="hero" class="light-text">
	<h1>Guides</h1>
	<h5>How to get started, and achieve tasks, using Kubernetes</h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/docs/" class="YAH">GUIDES</a></li>
			<li><a href="/docs/reference" >REFERENCE</a></li>
			<li><a href="/docs/samples" >SAMPLES</a></li>
			<li><a href="/docs/troubleshooting/" >SUPPORT</a></li>
		</ul>
		<div id="searchBox">
			<input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)">
		</div>
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
        
    <a class="item" data-title="Guides" href="/docs/"></a>
<div class="item" data-title="Getting Started">
  <div class="container">
    <a class="item" data-title="What is Kubernetes?" href="/docs/whatisk8s/"></a>
    <a class="item" data-title="Downloading or Building Kubernetes" href="/docs/getting-started-guides/binary_release/"></a>
    <a class="item" data-title="Hello World Walkthrough" href="/docs/hellonode/"></a>
    <a class="item" data-title="Online Training Course" href="https://www.udacity.com/course/scalable-microservices-with-kubernetes--ud615" target='_blank'></a>
  </div>
</div>
<div class="item" data-title="Accessing the Cluster">
  <div class="container">
    <a class="item" data-title="Installing and Setting up kubectl" href="/docs/user-guide/prereqs/"></a>
    <a class="item" data-title="Accessing Clusters" href="/docs/user-guide/accessing-the-cluster/"></a>
    <a class="item" data-title="Sharing Cluster Access with kubeconfig" href="/docs/user-guide/sharing-clusters/"></a>
    <a class="item" data-title="Authenticating Across Clusters with kubeconfig" href="/docs/user-guide/kubeconfig-file/"></a>
  </div>
</div>
    <a class="item" data-title="User Guide" href="/docs/user-guide/"></a>
    <a class="item" data-title="Web UI (Dashboard)" href="/docs/user-guide/ui/"></a>
<div class="item" data-title="Workload Deployment and Management">
  <div class="container">
    <a class="item" data-title="Launching, Exposing, and Killing Applications" href="/docs/user-guide/quick-start/"></a>
    <a class="item" data-title="Deploying Applications" href="/docs/user-guide/deploying-applications/"></a>
    <a class="item" data-title="Managing Resources" href="/docs/user-guide/managing-deployments/"></a>
    <a class="item" data-title="Replication Controller Operations" href="/docs/user-guide/replication-controller/operations/"></a>
    <a class="item" data-title="Resizing a Replication Controller" href="/docs/user-guide/resizing-a-replication-controller/"></a>
    <a class="item" data-title="Rolling Updates" href="/docs/user-guide/rolling-updates/"></a>
    <a class="item" data-title="Rolling Update Demo" href="/docs/user-guide/update-demo/"></a>
    <a class="item" data-title="Secrets Walkthrough" href="/docs/user-guide/secrets/walkthrough/"></a>
    <a class="item" data-title="Using ConfigMap" href="/docs/user-guide/configmap/"></a>
    <a class="item" data-title="Horizontal Pod Autoscaling" href="/docs/user-guide/horizontal-pod-autoscaling/walkthrough/"></a>
    <a class="item" data-title="Best Practices for Configuration" href="/docs/user-guide/config-best-practices/"></a>
    <a class="item" data-title="Using kubectl to Manage Resources" href="/docs/user-guide/working-with-resources/"></a>
    <a class="item" data-title="Garbage collection" href="/docs/user-guide/garbage-collector/"></a>
  </div>
</div>
<div class="item" data-title="Batch Jobs">
  <div class="container">
    <a class="item" data-title="Jobs" href="/docs/user-guide/jobs/"></a>
    <a class="item" data-title="Parallel Processing using Expansions" href="/docs/user-guide/jobs/expansions/"></a>
    <a class="item" data-title="Coarse Parallel Processing using a Work Queue" href="/docs/user-guide/jobs/work-queue-1/"></a>
    <a class="item" data-title="Fine Parallel Processing using a Work Queue" href="/docs/user-guide/jobs/work-queue-2/"></a>
  </div>
</div>
<div class="item" data-title="Service Discovery and Load Balancing">
  <div class="container">
    <a class="item" data-title="Connecting Applications with Services" href="/docs/user-guide/connecting-applications/"></a>
    <a class="item" data-title="Service Operations" href="/docs/user-guide/services/operations/"></a>
    <a class="item" data-title="Creating an External Load Balancer" href="/docs/user-guide/load-balancer/"></a>
    <a class="item" data-title="Configuring Your Cloud Provider's Firewalls" href="/docs/user-guide/services-firewalls/"></a>
    <a class="item" data-title="Cross-cluster Service Discovery using Federated Services" href="/docs/user-guide/federation/federated-services/"></a>
  </div>
</div>
<div class="item" data-title="Containers and Pods">
  <div class="container">
    <a class="item" data-title="Running Your First Containers" href="/docs/user-guide/simple-nginx/"></a>
    <a class="item" data-title="Creating Single-Container Pods" href="/docs/user-guide/pods/single-container/"></a>
    <a class="item" data-title="Creating Multi-Container Pods" href="/docs/user-guide/pods/multi-container/"></a>
    <a class="item" data-title="Configuring Containers" href="/docs/user-guide/configuring-containers/"></a>
    <a class="item" data-title="Working with Containers in Production" href="/docs/user-guide/production-pods/"></a>
    <a class="item" data-title="Commands and Capabilities" href="/docs/user-guide/containers/"></a>
    <a class="item" data-title="Using Environment Variables" href="/docs/user-guide/environment-guide/"></a>
    <a class="item" data-title="Managing Compute Resources" href="/docs/user-guide/compute-resources/"></a>
    <a class="item" data-title="The Lifecycle of a Pod" href="/docs/user-guide/pod-states/"></a>
    <a class="item" data-title="Checking Pod Health" href="/docs/user-guide/liveness/"></a>
    <a class="item" data-title="Container Lifecycle Hooks" href="/docs/user-guide/container-environment/"></a>
    <a class="item" data-title="Assigning Pods to Nodes" href="/docs/user-guide/node-selection/"></a>
    <a class="item" data-title="Using the Downward API to Convey Pod Properties" href="/docs/user-guide/downward-api/"></a>
    <a class="item" data-title="Downward API Volumes" href="/docs/user-guide/downward-api/volume"></a>
    <a class="item" data-title="Persistent Volumes Walkthrough" href="/docs/user-guide/persistent-volumes/walkthrough/"></a>
    <a class="item" data-title="Bootstrapping Pet Sets" href="/docs/user-guide/petset/bootstrapping/"></a>
  </div>
</div>
<div class="item" data-title="Monitoring, Logging, and Debugging Containers">
  <div class="container">
    <a class="item" data-title="Resource Usage Monitoring" href="/docs/user-guide/monitoring/"></a>
    <a class="item" data-title="Logging" href="/docs/getting-started-guides/logging/"></a>
    <a class="item" data-title="Logging with Elasticsearch and Kibana" href="/docs/getting-started-guides/logging-elasticsearch/"></a>
    <a class="item" data-title="Running Commands in a Container with kubectl exec" href="/docs/user-guide/getting-into-containers/"></a>
    <a class="item" data-title="Connect with Proxies" href="/docs/user-guide/connecting-to-applications-proxy/"></a>
    <a class="item" data-title="Connect with Port Forwarding" href="/docs/user-guide/connecting-to-applications-port-forward/"></a>
    <a class="item" data-title="Using Explorer to Examine the Runtime Environment" href="https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/explorer" target='_blank'></a>
  </div>
</div>
<div class="item" data-title="Creating a Cluster">
  <div class="container">
    <a class="item" data-title="Picking the Right Solution" href="/docs/getting-started-guides/"></a>
<div class="item" data-title="Running Kubernetes on Your Local Machine">
  <div class="container">
    <a class="item" data-title="Running Kubernetes Locally via Minikube" href="/docs/getting-started-guides/minikube/"></a>
    <a class="item" data-title="Deprecated Alternatives" href="/docs/getting-started-guides/alternatives/"></a>
  </div>
</div>
<div class="item" data-title="Running Kubernetes on Turn-key Cloud Solutions">
  <div class="container">
    <a class="item" data-title="Running Kubernetes on Google Container Engine" href="https://cloud.google.com/container-engine/docs/before-you-begin/" target='_blank'></a>
    <a class="item" data-title="Running Kubernetes on Google Compute Engine" href="/docs/getting-started-guides/gce/"></a>
    <a class="item" data-title="Running Kubernetes on AWS EC2" href="/docs/getting-started-guides/aws/"></a>
    <a class="item" data-title="Running Kubernetes on Azure (Weave-based)" href="/docs/getting-started-guides/coreos/azure/"></a>
    <a class="item" data-title="Running Kubernetes on Azure (Flannel-based)" href="/docs/getting-started-guides/azure/"></a>
    <a class="item" data-title="Running Kubernetes on CenturyLink Cloud" href="/docs/getting-started-guides/clc/"></a>
  </div>
</div>
<div class="item" data-title="Running Kubernetes on Custom Solutions">
  <div class="container">
    <a class="item" data-title="Creating a Custom Cluster from Scratch" href="/docs/getting-started-guides/scratch/"></a>
<div class="item" data-title="Custom Cloud Solutions">
  <div class="container">
    <a class="item" data-title="CoreOS on AWS or GCE" href="/docs/getting-started-guides/coreos/"></a>
    <a class="item" data-title="Ubuntu on AWS or Joyent" href="/docs/getting-started-guides/juju/"></a>
    <a class="item" data-title="CoreOS on Rackspace" href="/docs/getting-started-guides/rackspace/"></a>
  </div>
</div>
<div class="item" data-title="On-Premise VMs">
  <div class="container">
    <a class="item" data-title="CoreOS on Vagrant" href="/docs/getting-started-guides/coreos/"></a>
    <a class="item" data-title="Cloudstack" href="/docs/getting-started-guides/cloudstack/"></a>
    <a class="item" data-title="VMware vSphere" href="/docs/getting-started-guides/vsphere/"></a>
    <a class="item" data-title="VMware Photon Controller" href="/docs/getting-started-guides/photon-controller/"></a>
    <a class="item" data-title="Juju" href="/docs/getting-started-guides/juju/"></a>
    <a class="item" data-title="DCOS" href="/docs/getting-started-guides/dcos/"></a>
    <a class="item" data-title="CoreOS on libvirt" href="/docs/getting-started-guides/libvirt-coreos/"></a>
    <a class="item" data-title="oVirt" href="/docs/getting-started-guides/ovirt/"></a>
    <a class="item" data-title="OpenStack Heat" href="/docs/getting-started-guides/openstack-heat/"></a>
    <a class="item" data-title="CoreOS on Multinode Cluster" href="/docs/getting-started-guides/coreos/coreos_multinode_cluster/"></a>
    <a class="item" data-title="Fedora With Calico Networking" href="/docs/getting-started-guides/fedora/fedora-calico/"></a>
<div class="item" data-title="rkt">
  <div class="container">
    <a class="item" data-title="Running Kubernetes with rkt" href="/docs/getting-started-guides/rkt/"></a>
    <a class="item" data-title="Known Issues when Using rkt" href="/docs/getting-started-guides/rkt/notes/"></a>
  </div>
</div>
    <a class="item" data-title="Kubernetes on Mesos" href="/docs/getting-started-guides/mesos/"></a>
    <a class="item" data-title="Kubernetes on Mesos on Docker" href="/docs/getting-started-guides/mesos-docker/"></a>
  </div>
</div>
<div class="item" data-title="Bare Metal">
  <div class="container">
    <a class="item" data-title="Offline" href="/docs/getting-started-guides/coreos/bare_metal_offline/"></a>
    <a class="item" data-title="Fedora via Ansible" href="/docs/getting-started-guides/fedora/fedora_ansible_config/"></a>
    <a class="item" data-title="Fedora (Single Node)" href="/docs/getting-started-guides/fedora/fedora_manual_config/"></a>
    <a class="item" data-title="Fedora (Multi Node)" href="/docs/getting-started-guides/fedora/flannel_multi_node_cluster/"></a>
    <a class="item" data-title="CentOS" href="/docs/getting-started-guides/centos/centos_manual_config/"></a>
    <a class="item" data-title="CoreOS" href="/docs/getting-started-guides/coreos"></a>
    <a class="item" data-title="CoreOS with Calico" href="/docs/getting-started-guides/coreos/bare_metal_calico/"></a>
    <a class="item" data-title="Ubuntu" href="/docs/getting-started-guides/ubuntu/"></a>
    <a class="item" data-title="Ubuntu Nodes with Calico" href="/docs/getting-started-guides/ubuntu-calico/"></a>
  </div>
</div>
  </div>
</div>
    <a class="item" data-title="Portable Multi-Node Cluster" href="/docs/getting-started-guides/docker-multinode/"></a>
    <a class="item" data-title="Building Large Clusters" href="/docs/admin/cluster-large/"></a>
    <a class="item" data-title="Running in Multiple Zones" href="/docs/admin/multiple-zones/"></a>
    <a class="item" data-title="Building High-Availability Clusters" href="/docs/admin/high-availability/"></a>
  </div>
</div>
<div class="item" data-title="Administering Clusters">
  <div class="container">
    <a class="item" data-title="Admin Guide" href="/docs/admin/"></a>
    <a class="item" data-title="Cluster Management Guide" href="/docs/admin/cluster-management/"></a>
    <a class="item" data-title="Sharing a Cluster with Namespaces" href="/docs/admin/namespaces/"></a>
    <a class="item" data-title="Namespaces Walkthrough" href="/docs/admin/namespaces/walkthrough/"></a>
    <a class="item" data-title="Setting Pod CPU and Memory Limits" href="/docs/admin/limitrange/"></a>
    <a class="item" data-title="Understanding Resource Quotas" href="/docs/admin/resourcequota/"></a>
    <a class="item" data-title="Applying Resource Quotas and Limits" href="/docs/admin/resourcequota/walkthrough/"></a>
    <a class="item" data-title="Kubernetes Components" href="/docs/admin/cluster-components/"></a>
    <a class="item" data-title="Configuring Kubernetes Use of etcd" href="/docs/admin/etcd/"></a>
    <a class="item" data-title="Federating Clusters" href="/docs/admin/federation/"></a>
    <a class="item" data-title="Using Multiple Clusters" href="/docs/admin/multi-cluster/"></a>
    <a class="item" data-title="Changing Cluster Size" href="https://github.com/kubernetes/kubernetes/wiki/User-FAQ#how-do-i-change-the-size-of-my-cluster/" target='_blank'></a>
    <a class="item" data-title="Configuring Multiple Schedulers" href="/docs/admin/multiple-schedulers/"></a>
    <a class="item" data-title="Networking in Kubernetes" href="/docs/admin/networking/"></a>
    <a class="item" data-title="Using DNS Pods and Services" href="/docs/admin/dns/"></a>
    <a class="item" data-title="Setting Up and Configuring DNS" href="https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/cluster-dns" target='_blank'></a>
    <a class="item" data-title="Master <-> Node Communication" href="/docs/admin/master-node-communication/"></a>
    <a class="item" data-title="Network Plugins" href="/docs/admin/network-plugins/"></a>
    <a class="item" data-title="Static Pods" href="/docs/admin/static-pods/"></a>
    <a class="item" data-title="Configuring kubelet Garbage Collection" href="/docs/admin/garbage-collection/"></a>
    <a class="item" data-title="Configuring Out Of Resource Handling" href="/docs/admin/out-of-resource/"></a>
    <a class="item" data-title="Configuring Kubernetes with Salt" href="/docs/admin/salt/"></a>
    <a class="item" data-title="Monitoring Node Health" href="/docs/admin/node-problem/"></a>
  </div>
</div>
        </div> <!-- /pi-accordion -->
		<button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
	</div> <!-- /docsToc -->
	<div id="docsContent">
        <p><a href="/editdocs#docs/getting-started-guides/gce.md" id="editPageButton">Edit This Page</a></p>
    	<h1>Running Kubernetes on Google Compute Engine</h1>
		<p>The example below creates a Kubernetes cluster with 4 worker node Virtual Machines and a master Virtual Machine (i.e. 5 VMs in your cluster). This cluster is set up and controlled from your workstation (or wherever you find convenient).</p>

<ul id="markdown-toc">
  <li><a href="#before-you-start" id="markdown-toc-before-you-start">Before you start</a></li>
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
  <li><a href="#starting-a-cluster" id="markdown-toc-starting-a-cluster">Starting a cluster</a></li>
  <li><a href="#installing-the-kubernetes-command-line-tools-on-your-workstation" id="markdown-toc-installing-the-kubernetes-command-line-tools-on-your-workstation">Installing the Kubernetes command line tools on your workstation</a>    <ul>
      <li><a href="#enabling-bash-completion-of-the-kubernetes-command-line-tools" id="markdown-toc-enabling-bash-completion-of-the-kubernetes-command-line-tools">Enabling bash completion of the Kubernetes command line tools</a></li>
    </ul>
  </li>
  <li><a href="#getting-started-with-your-cluster" id="markdown-toc-getting-started-with-your-cluster">Getting started with your cluster</a>    <ul>
      <li><a href="#inspect-your-cluster" id="markdown-toc-inspect-your-cluster">Inspect your cluster</a></li>
      <li><a href="#run-some-examples" id="markdown-toc-run-some-examples">Run some examples</a></li>
    </ul>
  </li>
  <li><a href="#tearing-down-the-cluster" id="markdown-toc-tearing-down-the-cluster">Tearing down the cluster</a></li>
  <li><a href="#customizing" id="markdown-toc-customizing">Customizing</a></li>
  <li><a href="#troubleshooting" id="markdown-toc-troubleshooting">Troubleshooting</a>    <ul>
      <li><a href="#project-settings" id="markdown-toc-project-settings">Project settings</a></li>
      <li><a href="#cluster-initialization-hang" id="markdown-toc-cluster-initialization-hang">Cluster initialization hang</a></li>
      <li><a href="#ssh" id="markdown-toc-ssh">SSH</a></li>
      <li><a href="#networking" id="markdown-toc-networking">Networking</a></li>
    </ul>
  </li>
  <li><a href="#support-level" id="markdown-toc-support-level">Support Level</a></li>
  <li><a href="#further-reading" id="markdown-toc-further-reading">Further reading</a></li>
</ul>

<h3 id="before-you-start">Before you start</h3>

<p>If you want a simplified getting started experience and GUI for managing clusters, please consider trying <a href="https://cloud.google.com/container-engine/">Google Container Engine</a> (GKE) for hosted cluster installation and management.</p>

<p>If you want to use custom binaries or pure open source Kubernetes, please continue with the instructions below.</p>

<h3 id="prerequisites">Prerequisites</h3>

<ol>
  <li>You need a Google Cloud Platform account with billing enabled. Visit the <a href="http://cloud.google.com/console">Google Developers Console</a> for more details.</li>
  <li>Install <code class="highlighter-rouge">gcloud</code> as necessary. <code class="highlighter-rouge">gcloud</code> can be installed as a part of the <a href="https://cloud.google.com/sdk/">Google Cloud SDK</a>.</li>
  <li>Enable the <a href="https://developers.google.com/console/help/new/#activatingapis">Compute Engine Instance Group Manager API</a> in the <a href="https://console.developers.google.com">Google Cloud developers console</a>.</li>
  <li>Make sure that gcloud is set to use the Google Cloud Platform project you want. You can check the current project using <code class="highlighter-rouge">gcloud config list project</code> and change it via <code class="highlighter-rouge">gcloud config set project &lt;project-id&gt;</code>.</li>
  <li>Make sure you have credentials for GCloud by running ` gcloud auth login`.</li>
  <li>Make sure you can start up a GCE VM from the command line.  At least make sure you can do the <a href="https://cloud.google.com/compute/docs/instances/#startinstancegcloud">Create an instance</a> part of the GCE Quickstart.</li>
  <li>Make sure you can ssh into the VM without interactive prompts.  See the <a href="https://cloud.google.com/compute/docs/instances/#sshing">Log in to the instance</a> part of the GCE Quickstart.</li>
</ol>

<h3 id="starting-a-cluster">Starting a cluster</h3>

<p>You can install a client and start a cluster with either one of these commands (we list both in case only one is installed on your machine):</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>curl -sS https://get.k8s.io | bash
</code></pre>
</div>

<p>or</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>wget -q -O - https://get.k8s.io | bash
</code></pre>
</div>

<p>Once this command completes, you will have a master VM and four worker VMs, running as a Kubernetes cluster.</p>

<p>By default, some containers will already be running on your cluster. Containers like <code class="highlighter-rouge">kibana</code> and <code class="highlighter-rouge">elasticsearch</code> provide <a href="/docs/getting-started-guides/logging">logging</a>, while <code class="highlighter-rouge">heapster</code> provides <a href="http://releases.k8s.io/master/cluster/addons/cluster-monitoring/README.md">monitoring</a> services.</p>

<p>The script run by the commands above creates a cluster with the name/prefix “kubernetes”. It defines one specific cluster config, so you can’t run it more than once.</p>

<p>Alternately, you can download and install the latest Kubernetes release from <a href="https://github.com/kubernetes/kubernetes/releases">this page</a>, then run the <code class="highlighter-rouge">&lt;kubernetes&gt;/cluster/kube-up.sh</code> script to start the cluster:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>kubernetes
cluster/kube-up.sh
</code></pre>
</div>

<p>If you want more than one cluster running in your project, want to use a different name, or want a different number of worker nodes, see the <code class="highlighter-rouge">&lt;kubernetes&gt;/cluster/gce/config-default.sh</code> file for more fine-grained configuration before you start up your cluster.</p>

<p>If you run into trouble, please see the section on <a href="/docs/getting-started-guides/gce/#troubleshooting">troubleshooting</a>, post to the
<a href="https://groups.google.com/forum/#!forum/kubernetes-users">kubernetes-users group</a>, or come ask questions on <a href="/docs/troubleshooting/#slack">Slack</a>.</p>

<p>The next few steps will show you:</p>

<ol>
  <li>how to set up the command line client on your workstation to manage the cluster</li>
  <li>examples of how to use the cluster</li>
  <li>how to delete the cluster</li>
  <li>how to start clusters with non-default options (like larger clusters)</li>
</ol>

<h3 id="installing-the-kubernetes-command-line-tools-on-your-workstation">Installing the Kubernetes command line tools on your workstation</h3>

<p>The cluster startup script will leave you with a running cluster and a <code class="highlighter-rouge">kubernetes</code> directory on your workstation.
The next step is to make sure the <code class="highlighter-rouge">kubectl</code> tool is in your path.</p>

<p>The <a href="/docs/user-guide/kubectl/kubectl">kubectl</a> tool controls the Kubernetes cluster manager.  It lets you inspect your cluster resources, create, delete, and update components, and much more.
You will use it to look at your new cluster and bring up example apps.</p>

<p>Add the appropriate binary folder to your <code class="highlighter-rouge">PATH</code> to access kubectl:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># OS X</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>&lt;path/to/kubernetes-directory&gt;/platforms/darwin/amd64:<span class="nv">$PATH</span>
<span class="c"># Linux</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>&lt;path/to/kubernetes-directory&gt;/platforms/linux/amd64:<span class="nv">$PATH</span>
</code></pre>
</div>

<p><strong>Note</strong>: gcloud also ships with <code class="highlighter-rouge">kubectl</code>, which by default is added to your path.
However the gcloud bundled kubectl version may be older than the one downloaded by the
get.k8s.io install script. We recommend you use the downloaded binary to avoid
potential issues with client/server version skew.</p>

<h4 id="enabling-bash-completion-of-the-kubernetes-command-line-tools">Enabling bash completion of the Kubernetes command line tools</h4>

<p>You may find it useful to enable <code class="highlighter-rouge">kubectl</code> bash completion:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ source ./contrib/completions/bash/kubectl
</code></pre>
</div>

<p><strong>Note</strong>: This will last for the duration of your bash session. If you want to make this permanent you need to add this line in your bash profile.</p>

<p>Alternatively, on most linux distributions you can also move the completions file to your bash_completions.d like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cp ./contrib/completions/bash/kubectl /etc/bash_completion.d/
</code></pre>
</div>

<p>but then you have to update it when you update kubectl.</p>

<h3 id="getting-started-with-your-cluster">Getting started with your cluster</h3>

<h4 id="inspect-your-cluster">Inspect your cluster</h4>

<p>Once <code class="highlighter-rouge">kubectl</code> is in your path, you can use it to look at your cluster. E.g., running:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl get --all-namespaces services
</code></pre>
</div>

<p>should show a set of <a href="/docs/user-guide/services">services</a> that look something like this:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>NAMESPACE     NAME                  CLUSTER_IP       EXTERNAL_IP       PORT<span class="o">(</span>S<span class="o">)</span>       SELECTOR               AGE
default       kubernetes            10.0.0.1         &lt;none&gt;            443/TCP       &lt;none&gt;                 1d
kube-system   kube-dns              10.0.0.2         &lt;none&gt;            53/TCP,53/UDP k8s-app<span class="o">=</span>kube-dns       1d
kube-system   kube-ui               10.0.0.3         &lt;none&gt;            80/TCP        k8s-app<span class="o">=</span>kube-ui        1d
...
</code></pre>
</div>

<p>Similarly, you can take a look at the set of <a href="/docs/user-guide/pods">pods</a> that were created during cluster startup.
You can do this via the</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>kubectl get --all-namespaces pods
</code></pre>
</div>

<p>command.</p>

<p>You’ll see a list of pods that looks something like this (the name specifics will be different):</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>NAMESPACE     NAME                                           READY     STATUS    RESTARTS   AGE
kube-system   fluentd-cloud-logging-kubernetes-minion-63uo   1/1       Running   0          14m
kube-system   fluentd-cloud-logging-kubernetes-minion-c1n9   1/1       Running   0          14m
kube-system   fluentd-cloud-logging-kubernetes-minion-c4og   1/1       Running   0          14m
kube-system   fluentd-cloud-logging-kubernetes-minion-ngua   1/1       Running   0          14m
kube-system   kube-dns-v5-7ztia                              3/3       Running   0          15m
kube-system   kube-ui-v1-curt1                               1/1       Running   0          15m
kube-system   monitoring-heapster-v5-ex4u3                   1/1       Running   1          15m
kube-system   monitoring-influx-grafana-v1-piled             2/2       Running   0          15m
</code></pre>
</div>

<p>Some of the pods may take a few seconds to start up (during this time they’ll show <code class="highlighter-rouge">Pending</code>), but check that they all show as <code class="highlighter-rouge">Running</code> after a short period.</p>

<h4 id="run-some-examples">Run some examples</h4>

<p>Then, see <a href="/docs/user-guide/simple-nginx">a simple nginx example</a> to try out your new cluster.</p>

<p>For more complete applications, please look in the <a href="https://github.com/kubernetes/kubernetes/tree/master/examples/">examples directory</a>.  The <a href="https://github.com/kubernetes/kubernetes/tree/master/examples/guestbook/">guestbook example</a> is a good “getting started” walkthrough.</p>

<h3 id="tearing-down-the-cluster">Tearing down the cluster</h3>

<p>To remove/delete/teardown the cluster, use the <code class="highlighter-rouge">kube-down.sh</code> script.</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>kubernetes
cluster/kube-down.sh
</code></pre>
</div>

<p>Likewise, the <code class="highlighter-rouge">kube-up.sh</code> in the same directory will bring it back up. You do not need to rerun the <code class="highlighter-rouge">curl</code> or <code class="highlighter-rouge">wget</code> command: everything needed to setup the Kubernetes cluster is now on your workstation.</p>

<h3 id="customizing">Customizing</h3>

<p>The script above relies on Google Storage to stage the Kubernetes release. It
then will start (by default) a single master VM along with 4 worker VMs.  You
can tweak some of these parameters by editing <code class="highlighter-rouge">kubernetes/cluster/gce/config-default.sh</code>
You can view a transcript of a successful cluster creation
<a href="https://gist.github.com/satnam6502/fc689d1b46db9772adea">here</a>.</p>

<h3 id="troubleshooting">Troubleshooting</h3>

<h4 id="project-settings">Project settings</h4>

<p>You need to have the Google Cloud Storage API, and the Google Cloud Storage
JSON API enabled. It is activated by default for new projects. Otherwise, it
can be done in the Google Cloud Console.  See the <a href="https://cloud.google.com/storage/docs/json_api/">Google Cloud Storage JSON
API Overview</a> for more
details.</p>

<p>Also ensure that– as listed in the <a href="#prerequisites">Prerequsites section</a>– you’ve enabled the <code class="highlighter-rouge">Compute Engine Instance Group Manager API</code>, and can start up a GCE VM from the command line as in the <a href="https://cloud.google.com/compute/docs/quickstart">GCE Quickstart</a> instructions.</p>

<h4 id="cluster-initialization-hang">Cluster initialization hang</h4>

<p>If the Kubernetes startup script hangs waiting for the API to be reachable, you can troubleshoot by SSHing into the master and node VMs and looking at logs such as <code class="highlighter-rouge">/var/log/startupscript.log</code>.</p>

<p><strong>Once you fix the issue, you should run <code class="highlighter-rouge">kube-down.sh</code> to cleanup</strong> after the partial cluster creation, before running <code class="highlighter-rouge">kube-up.sh</code> to try again.</p>

<h4 id="ssh">SSH</h4>

<p>If you’re having trouble SSHing into your instances, ensure the GCE firewall
isn’t blocking port 22 to your VMs.  By default, this should work but if you
have edited firewall rules or created a new non-default network, you’ll need to
expose it: <code class="highlighter-rouge">gcloud compute firewall-rules create default-ssh --network=&lt;network-name&gt;
--description "SSH allowed from anywhere" --allow tcp:22</code></p>

<p>Additionally, your GCE SSH key must either have no passcode or you need to be
using <code class="highlighter-rouge">ssh-agent</code>.</p>

<h4 id="networking">Networking</h4>

<p>The instances must be able to connect to each other using their private IP. The
script uses the “default” network which should have a firewall rule called
“default-allow-internal” which allows traffic on any port on the private IPs.
If this rule is missing from the default network or if you change the network
being used in <code class="highlighter-rouge">cluster/config-default.sh</code> create a new rule with the following
field values:</p>

<ul>
  <li>Source Ranges: <code class="highlighter-rouge">10.0.0.0/8</code></li>
  <li>Allowed Protocols and Port: <code class="highlighter-rouge">tcp:1-65535;udp:1-65535;icmp</code></li>
</ul>

<h2 id="support-level">Support Level</h2>

<table>
  <thead>
    <tr>
      <th>IaaS Provider</th>
      <th>Config. Mgmt</th>
      <th>OS</th>
      <th>Networking</th>
      <th>Docs</th>
      <th>Conforms</th>
      <th>Support Level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GCE</td>
      <td>Saltstack</td>
      <td>Debian</td>
      <td>GCE</td>
      <td><a href="/docs/getting-started-guides/gce">docs</a></td>
      <td> </td>
      <td>Project</td>
    </tr>
  </tbody>
</table>

<p>For support level information on all solutions, see the <a href="/docs/getting-started-guides/#table-of-solutions">Table of solutions</a> chart.</p>

<h2 id="further-reading">Further reading</h2>

<p>Please see the <a href="/docs/">Kubernetes docs</a> for more details on administering
and using a Kubernetes cluster.</p>


        <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/getting-started-guides/gce.md?pixel" alt="Analytics" /></a>
        <div id="pd_rating_holder_8345992"></div>
		<script type="text/javascript">
	        PDRTJS_settings_8345992 = {
		        "id" : "8345992",
		        "unique_id" : "/docs/getting-started-guides/gce/",
		        "title" : "Running Kubernetes on Google Compute Engine",
		        "permalink" : "http://kubernetes.github.io/docs/getting-started-guides/gce/"
	        };
	        (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
        </script>
	</div>
</section>

<footer>
	<main class="light-text">
		<nav>
			<a href="/docs/hellonode/">Get Started</a>
			<a href="/docs/">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/community/">Community</a>
		</nav>
		<div class="social">
			<div>
				<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
				<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
				<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			</div>
			<div>
				<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
				<a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
				<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
			</div>
			<div>
				<span>I wish this page</span>
				<input type="text" id="wishField" name="wishField" placeholder="enter your wish">
			</div>
		</div>
		<div id="miceType" class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>


<button class="flyout-button" onclick="kub.toggleToc()"></button>

<style>
	.cse .gsc-control-cse, .gsc-control-cse, {
		padding: 0;
	}
	.gsc-control-cse table, .gsc-control-cse-en table {
		margin:0px !important;
	}

	.gsc-above-wrapper-area {
		border-bottom: 0;
	}
</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36037335-10', 'auto');
  ga('send', 'pageview');
</script>
<!-- Commenting out AnswerDash for now; we need to work on our list of questions/answers/design first
<!-- Start of AnswerDash script <script>var AnswerDash;!function(e,t,n,s,a){if(!t.getElementById(s)){var i,r=t.createElement(n),c=t.getElementsByTagName(n)[0];e[a]||(i=e[a]=function(){i.__oninit.push(arguments)},i.__oninit=[]),r.type="text/javascript",r.async=!0,r.src="https://p1.answerdash.com/answerdash.min.js?siteid=756",r.setAttribute("id",s),c.parentNode.insertBefore(r,c)}}(window,document,"script","answerdash-script","AnswerDash");</script> <!-- End of AnswerDash script -->
</body>
</html>
