

<!Doctype html>
<html id="docs" class="Guides">


<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="canonical" href="http://kubernetes.io/docs/getting-started-guides/juju/" />
	<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
        <link rel="stylesheet" href="/css/jquery-ui.min.css">
        <link rel="stylesheet" href="/css/sweetalert.css">
	<script src="/js/jquery-2.2.0.min.js"></script>
        <script src="/js/jquery-ui.min.js"></script>
	<script src="/js/script.js"></script>
        <script src="/js/sweetalert.min.js"></script>
	<title>Kubernetes - Juju</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs/" class="button" id="viewDocs" data-auto-burger-exclude>View Documentation</a>
		<a href="/docs/hellonode/" class="button" id="tryKubernetes" data-auto-burger-exclude>Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="/docs/hellonode/">Get Started</a></h3>
				<p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>
			</div>
			<div class="nav-box">
				<h3><a href="/docs/">Documentation</a></h3>
				<p>Learn how to use Kubernetes with the use of walkthroughs, samples, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>
			</div>
			<div class="nav-box">
				<h3><a href="/community/">Community</a></h3>
				<p>If you need help, you can connect with other Kubernetes users and the Kubernetes authors, attend community events, and watch video presentations from around the web.</p>
			</div>
			<div class="nav-box">
				<h3><a href="http://blog.kubernetes.io">Blog</a></h3>
				<p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
					<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>


<!--  HERO  -->
<section id="hero" class="light-text">
	<h1>Guides</h1>
	<h5>How to get started, and achieve tasks, using Kubernetes</h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/docs/" class="YAH">GUIDES</a></li>
			<li><a href="/docs/reference" >REFERENCE</a></li>
			<li><a href="/docs/samples" >SAMPLES</a></li>
			<li><a href="/docs/troubleshooting/" >SUPPORT</a></li>
		</ul>
		<div id="searchBox">
			<input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)">
		</div>
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
        
    <a class="item" data-title="Guides" href="/docs/"></a>
<div class="item" data-title="Getting Started">
  <div class="container">
    <a class="item" data-title="What is Kubernetes?" href="/docs/whatisk8s/"></a>
    <a class="item" data-title="Downloading or Building Kubernetes" href="/docs/getting-started-guides/binary_release/"></a>
    <a class="item" data-title="Hello World Walkthrough" href="/docs/hellonode/"></a>
    <a class="item" data-title="Online Training Course" href="https://www.udacity.com/course/scalable-microservices-with-kubernetes--ud615" target='_blank'></a>
  </div>
</div>
<div class="item" data-title="Accessing the Cluster">
  <div class="container">
    <a class="item" data-title="Installing and Setting up kubectl" href="/docs/user-guide/prereqs/"></a>
    <a class="item" data-title="Accessing Clusters" href="/docs/user-guide/accessing-the-cluster/"></a>
    <a class="item" data-title="Sharing Cluster Access with kubeconfig" href="/docs/user-guide/sharing-clusters/"></a>
    <a class="item" data-title="Authenticating Across Clusters with kubeconfig" href="/docs/user-guide/kubeconfig-file/"></a>
  </div>
</div>
    <a class="item" data-title="User Guide" href="/docs/user-guide/"></a>
    <a class="item" data-title="Web UI (Dashboard)" href="/docs/user-guide/ui/"></a>
<div class="item" data-title="Workload Deployment and Management">
  <div class="container">
    <a class="item" data-title="Launching, Exposing, and Killing Applications" href="/docs/user-guide/quick-start/"></a>
    <a class="item" data-title="Deploying Applications" href="/docs/user-guide/deploying-applications/"></a>
    <a class="item" data-title="Managing Resources" href="/docs/user-guide/managing-deployments/"></a>
    <a class="item" data-title="Replication Controller Operations" href="/docs/user-guide/replication-controller/operations/"></a>
    <a class="item" data-title="Resizing a Replication Controller" href="/docs/user-guide/resizing-a-replication-controller/"></a>
    <a class="item" data-title="Rolling Updates" href="/docs/user-guide/rolling-updates/"></a>
    <a class="item" data-title="Rolling Update Demo" href="/docs/user-guide/update-demo/"></a>
    <a class="item" data-title="Secrets Walkthrough" href="/docs/user-guide/secrets/walkthrough/"></a>
    <a class="item" data-title="Using ConfigMap" href="/docs/user-guide/configmap/"></a>
    <a class="item" data-title="Horizontal Pod Autoscaling" href="/docs/user-guide/horizontal-pod-autoscaling/walkthrough/"></a>
    <a class="item" data-title="Best Practices for Configuration" href="/docs/user-guide/config-best-practices/"></a>
    <a class="item" data-title="Using kubectl to Manage Resources" href="/docs/user-guide/working-with-resources/"></a>
    <a class="item" data-title="Garbage collection" href="/docs/user-guide/garbage-collector/"></a>
  </div>
</div>
<div class="item" data-title="Batch Jobs">
  <div class="container">
    <a class="item" data-title="Jobs" href="/docs/user-guide/jobs/"></a>
    <a class="item" data-title="Parallel Processing using Expansions" href="/docs/user-guide/jobs/expansions/"></a>
    <a class="item" data-title="Coarse Parallel Processing using a Work Queue" href="/docs/user-guide/jobs/work-queue-1/"></a>
    <a class="item" data-title="Fine Parallel Processing using a Work Queue" href="/docs/user-guide/jobs/work-queue-2/"></a>
  </div>
</div>
<div class="item" data-title="Service Discovery and Load Balancing">
  <div class="container">
    <a class="item" data-title="Connecting Applications with Services" href="/docs/user-guide/connecting-applications/"></a>
    <a class="item" data-title="Service Operations" href="/docs/user-guide/services/operations/"></a>
    <a class="item" data-title="Creating an External Load Balancer" href="/docs/user-guide/load-balancer/"></a>
    <a class="item" data-title="Configuring Your Cloud Provider's Firewalls" href="/docs/user-guide/services-firewalls/"></a>
    <a class="item" data-title="Cross-cluster Service Discovery using Federated Services" href="/docs/user-guide/federation/federated-services/"></a>
  </div>
</div>
<div class="item" data-title="Containers and Pods">
  <div class="container">
    <a class="item" data-title="Running Your First Containers" href="/docs/user-guide/simple-nginx/"></a>
    <a class="item" data-title="Creating Single-Container Pods" href="/docs/user-guide/pods/single-container/"></a>
    <a class="item" data-title="Creating Multi-Container Pods" href="/docs/user-guide/pods/multi-container/"></a>
    <a class="item" data-title="Configuring Containers" href="/docs/user-guide/configuring-containers/"></a>
    <a class="item" data-title="Working with Containers in Production" href="/docs/user-guide/production-pods/"></a>
    <a class="item" data-title="Commands and Capabilities" href="/docs/user-guide/containers/"></a>
    <a class="item" data-title="Using Environment Variables" href="/docs/user-guide/environment-guide/"></a>
    <a class="item" data-title="Managing Compute Resources" href="/docs/user-guide/compute-resources/"></a>
    <a class="item" data-title="The Lifecycle of a Pod" href="/docs/user-guide/pod-states/"></a>
    <a class="item" data-title="Checking Pod Health" href="/docs/user-guide/liveness/"></a>
    <a class="item" data-title="Container Lifecycle Hooks" href="/docs/user-guide/container-environment/"></a>
    <a class="item" data-title="Assigning Pods to Nodes" href="/docs/user-guide/node-selection/"></a>
    <a class="item" data-title="Using the Downward API to Convey Pod Properties" href="/docs/user-guide/downward-api/"></a>
    <a class="item" data-title="Downward API Volumes" href="/docs/user-guide/downward-api/volume"></a>
    <a class="item" data-title="Persistent Volumes Walkthrough" href="/docs/user-guide/persistent-volumes/walkthrough/"></a>
    <a class="item" data-title="Bootstrapping Pet Sets" href="/docs/user-guide/petset/bootstrapping/"></a>
  </div>
</div>
<div class="item" data-title="Monitoring, Logging, and Debugging Containers">
  <div class="container">
    <a class="item" data-title="Resource Usage Monitoring" href="/docs/user-guide/monitoring/"></a>
    <a class="item" data-title="Logging" href="/docs/getting-started-guides/logging/"></a>
    <a class="item" data-title="Logging with Elasticsearch and Kibana" href="/docs/getting-started-guides/logging-elasticsearch/"></a>
    <a class="item" data-title="Running Commands in a Container with kubectl exec" href="/docs/user-guide/getting-into-containers/"></a>
    <a class="item" data-title="Connect with Proxies" href="/docs/user-guide/connecting-to-applications-proxy/"></a>
    <a class="item" data-title="Connect with Port Forwarding" href="/docs/user-guide/connecting-to-applications-port-forward/"></a>
    <a class="item" data-title="Using Explorer to Examine the Runtime Environment" href="https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/explorer" target='_blank'></a>
  </div>
</div>
<div class="item" data-title="Creating a Cluster">
  <div class="container">
    <a class="item" data-title="Picking the Right Solution" href="/docs/getting-started-guides/"></a>
<div class="item" data-title="Running Kubernetes on Your Local Machine">
  <div class="container">
    <a class="item" data-title="Running Kubernetes Locally via Minikube" href="/docs/getting-started-guides/minikube/"></a>
    <a class="item" data-title="Deprecated Alternatives" href="/docs/getting-started-guides/alternatives/"></a>
  </div>
</div>
<div class="item" data-title="Running Kubernetes on Turn-key Cloud Solutions">
  <div class="container">
    <a class="item" data-title="Running Kubernetes on Google Container Engine" href="https://cloud.google.com/container-engine/docs/before-you-begin/" target='_blank'></a>
    <a class="item" data-title="Running Kubernetes on Google Compute Engine" href="/docs/getting-started-guides/gce/"></a>
    <a class="item" data-title="Running Kubernetes on AWS EC2" href="/docs/getting-started-guides/aws/"></a>
    <a class="item" data-title="Running Kubernetes on Azure (Weave-based)" href="/docs/getting-started-guides/coreos/azure/"></a>
    <a class="item" data-title="Running Kubernetes on Azure (Flannel-based)" href="/docs/getting-started-guides/azure/"></a>
    <a class="item" data-title="Running Kubernetes on CenturyLink Cloud" href="/docs/getting-started-guides/clc/"></a>
  </div>
</div>
<div class="item" data-title="Running Kubernetes on Custom Solutions">
  <div class="container">
    <a class="item" data-title="Creating a Custom Cluster from Scratch" href="/docs/getting-started-guides/scratch/"></a>
<div class="item" data-title="Custom Cloud Solutions">
  <div class="container">
    <a class="item" data-title="CoreOS on AWS or GCE" href="/docs/getting-started-guides/coreos/"></a>
    <a class="item" data-title="Ubuntu on AWS or Joyent" href="/docs/getting-started-guides/juju/"></a>
    <a class="item" data-title="CoreOS on Rackspace" href="/docs/getting-started-guides/rackspace/"></a>
  </div>
</div>
<div class="item" data-title="On-Premise VMs">
  <div class="container">
    <a class="item" data-title="CoreOS on Vagrant" href="/docs/getting-started-guides/coreos/"></a>
    <a class="item" data-title="Cloudstack" href="/docs/getting-started-guides/cloudstack/"></a>
    <a class="item" data-title="VMware vSphere" href="/docs/getting-started-guides/vsphere/"></a>
    <a class="item" data-title="VMware Photon Controller" href="/docs/getting-started-guides/photon-controller/"></a>
    <a class="item" data-title="Juju" href="/docs/getting-started-guides/juju/"></a>
    <a class="item" data-title="DCOS" href="/docs/getting-started-guides/dcos/"></a>
    <a class="item" data-title="CoreOS on libvirt" href="/docs/getting-started-guides/libvirt-coreos/"></a>
    <a class="item" data-title="oVirt" href="/docs/getting-started-guides/ovirt/"></a>
    <a class="item" data-title="OpenStack Heat" href="/docs/getting-started-guides/openstack-heat/"></a>
    <a class="item" data-title="CoreOS on Multinode Cluster" href="/docs/getting-started-guides/coreos/coreos_multinode_cluster/"></a>
    <a class="item" data-title="Fedora With Calico Networking" href="/docs/getting-started-guides/fedora/fedora-calico/"></a>
<div class="item" data-title="rkt">
  <div class="container">
    <a class="item" data-title="Running Kubernetes with rkt" href="/docs/getting-started-guides/rkt/"></a>
    <a class="item" data-title="Known Issues when Using rkt" href="/docs/getting-started-guides/rkt/notes/"></a>
  </div>
</div>
    <a class="item" data-title="Kubernetes on Mesos" href="/docs/getting-started-guides/mesos/"></a>
    <a class="item" data-title="Kubernetes on Mesos on Docker" href="/docs/getting-started-guides/mesos-docker/"></a>
  </div>
</div>
<div class="item" data-title="Bare Metal">
  <div class="container">
    <a class="item" data-title="Offline" href="/docs/getting-started-guides/coreos/bare_metal_offline/"></a>
    <a class="item" data-title="Fedora via Ansible" href="/docs/getting-started-guides/fedora/fedora_ansible_config/"></a>
    <a class="item" data-title="Fedora (Single Node)" href="/docs/getting-started-guides/fedora/fedora_manual_config/"></a>
    <a class="item" data-title="Fedora (Multi Node)" href="/docs/getting-started-guides/fedora/flannel_multi_node_cluster/"></a>
    <a class="item" data-title="CentOS" href="/docs/getting-started-guides/centos/centos_manual_config/"></a>
    <a class="item" data-title="CoreOS" href="/docs/getting-started-guides/coreos"></a>
    <a class="item" data-title="CoreOS with Calico" href="/docs/getting-started-guides/coreos/bare_metal_calico/"></a>
    <a class="item" data-title="Ubuntu" href="/docs/getting-started-guides/ubuntu/"></a>
    <a class="item" data-title="Ubuntu Nodes with Calico" href="/docs/getting-started-guides/ubuntu-calico/"></a>
  </div>
</div>
  </div>
</div>
    <a class="item" data-title="Portable Multi-Node Cluster" href="/docs/getting-started-guides/docker-multinode/"></a>
    <a class="item" data-title="Building Large Clusters" href="/docs/admin/cluster-large/"></a>
    <a class="item" data-title="Running in Multiple Zones" href="/docs/admin/multiple-zones/"></a>
    <a class="item" data-title="Building High-Availability Clusters" href="/docs/admin/high-availability/"></a>
  </div>
</div>
<div class="item" data-title="Administering Clusters">
  <div class="container">
    <a class="item" data-title="Admin Guide" href="/docs/admin/"></a>
    <a class="item" data-title="Cluster Management Guide" href="/docs/admin/cluster-management/"></a>
    <a class="item" data-title="Sharing a Cluster with Namespaces" href="/docs/admin/namespaces/"></a>
    <a class="item" data-title="Namespaces Walkthrough" href="/docs/admin/namespaces/walkthrough/"></a>
    <a class="item" data-title="Setting Pod CPU and Memory Limits" href="/docs/admin/limitrange/"></a>
    <a class="item" data-title="Understanding Resource Quotas" href="/docs/admin/resourcequota/"></a>
    <a class="item" data-title="Applying Resource Quotas and Limits" href="/docs/admin/resourcequota/walkthrough/"></a>
    <a class="item" data-title="Kubernetes Components" href="/docs/admin/cluster-components/"></a>
    <a class="item" data-title="Configuring Kubernetes Use of etcd" href="/docs/admin/etcd/"></a>
    <a class="item" data-title="Federating Clusters" href="/docs/admin/federation/"></a>
    <a class="item" data-title="Using Multiple Clusters" href="/docs/admin/multi-cluster/"></a>
    <a class="item" data-title="Changing Cluster Size" href="https://github.com/kubernetes/kubernetes/wiki/User-FAQ#how-do-i-change-the-size-of-my-cluster/" target='_blank'></a>
    <a class="item" data-title="Configuring Multiple Schedulers" href="/docs/admin/multiple-schedulers/"></a>
    <a class="item" data-title="Networking in Kubernetes" href="/docs/admin/networking/"></a>
    <a class="item" data-title="Using DNS Pods and Services" href="/docs/admin/dns/"></a>
    <a class="item" data-title="Setting Up and Configuring DNS" href="https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/cluster-dns" target='_blank'></a>
    <a class="item" data-title="Master <-> Node Communication" href="/docs/admin/master-node-communication/"></a>
    <a class="item" data-title="Network Plugins" href="/docs/admin/network-plugins/"></a>
    <a class="item" data-title="Static Pods" href="/docs/admin/static-pods/"></a>
    <a class="item" data-title="Configuring kubelet Garbage Collection" href="/docs/admin/garbage-collection/"></a>
    <a class="item" data-title="Configuring Out Of Resource Handling" href="/docs/admin/out-of-resource/"></a>
    <a class="item" data-title="Configuring Kubernetes with Salt" href="/docs/admin/salt/"></a>
    <a class="item" data-title="Monitoring Node Health" href="/docs/admin/node-problem/"></a>
  </div>
</div>
        </div> <!-- /pi-accordion -->
		<button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
	</div> <!-- /docsToc -->
	<div id="docsContent">
        <p><a href="/editdocs#docs/getting-started-guides/juju.md" id="editPageButton">Edit This Page</a></p>
    	<h1>Juju</h1>
		<p><a href="https://jujucharms.com/docs/2.0/about-juju">Juju</a> encapsulates the 
operational knowledge of provisioning, installing, and securing a Kubernetes
cluster into one step. Juju allows you to deploy a Kubernetes cluster on
different cloud providers with a consistent, repeatable user experience.
Once deployed the cluster can easily scale up with one command.</p>

<p>The Juju Kubernetes work is curated by a dedicated team of community members,
let us know how we are doing. If you find any problems please open an
<a href="https://github.com/kubernetes/kubernetes/issues">issue on the kubernetes project</a>
and tag the issue with “juju” so we can find them.</p>

<ul id="markdown-toc">
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a>    <ul>
      <li><a href="#on-ubuntu" id="markdown-toc-on-ubuntu">On Ubuntu</a></li>
      <li><a href="#with-docker" id="markdown-toc-with-docker">With Docker</a></li>
      <li><a href="#configure-juju-to-your-favorite-cloud-provider" id="markdown-toc-configure-juju-to-your-favorite-cloud-provider">Configure Juju to your favorite cloud provider</a></li>
    </ul>
  </li>
  <li><a href="#launch-a-kubernetes-cluster" id="markdown-toc-launch-a-kubernetes-cluster">Launch a Kubernetes cluster</a></li>
  <li><a href="#exploring-the-cluster" id="markdown-toc-exploring-the-cluster">Exploring the cluster</a></li>
  <li><a href="#run-some-containers" id="markdown-toc-run-some-containers">Run some containers!</a></li>
  <li><a href="#scale-up-cluster" id="markdown-toc-scale-up-cluster">Scale up cluster</a></li>
  <li><a href="#scale-out-cluster" id="markdown-toc-scale-out-cluster">Scale out cluster</a></li>
  <li><a href="#tear-down-cluster" id="markdown-toc-tear-down-cluster">Tear down cluster</a></li>
  <li><a href="#more-info" id="markdown-toc-more-info">More Info</a>    <ul>
      <li><a href="#cloud-compatibility" id="markdown-toc-cloud-compatibility">Cloud compatibility</a></li>
    </ul>
  </li>
  <li><a href="#support-level" id="markdown-toc-support-level">Support Level</a></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<blockquote>
  <p>Note: If you’re running kube-up, on Ubuntu - all of the dependencies
will be handled for you. You may safely skip to the section:
<a href="#launch-a-kubernetes-cluster">Launch a Kubernetes Cluster</a></p>
</blockquote>

<h3 id="on-ubuntu">On Ubuntu</h3>

<p><a href="https://jujucharms.com/docs/2.0/getting-started-general">Install the Juju client</a></p>

<blockquote>
  <p>This documentation focuses on the Juju 2.0 release which will be
promoted to stable during the April 2016 release cycle.</p>
</blockquote>

<p>To paraphrase, on your local Ubuntu system:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>sudo add-apt-repository ppa:juju/devel
sudo apt-get update
sudo apt-get install juju
</code></pre>
</div>

<p>If you are using another distro/platform - please consult the
<a href="https://jujucharms.com/docs/2.0/getting-started-general">getting started guide</a>
to install the Juju dependencies for your platform.</p>

<h3 id="with-docker">With Docker</h3>

<p>If you prefer the isolation of Docker, you can run the Juju client in a 
container. Create a local directory to store the Juju configuration, then
volume mount the container:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>mkdir -p <span class="nv">$HOME</span>/.local/share/juju
docker run --rm -ti <span class="se">\</span>
  -v <span class="nv">$HOME</span>/.local/share/juju:/home/ubuntu/.local/share/juju <span class="se">\</span>
  jujusolutions/charmbox:devel
</code></pre>
</div>

<blockquote>
  <p>While this is a common target, the charmbox flavors of images are
unofficial, and should be treated as experimental. If you encounter any issues
turning up the Kubernetes cluster with charmbox, please file a bug on the
<a href="https://github.com/juju-solutions/charmbox/issues">charmbox issue tracker</a>.</p>
</blockquote>

<h3 id="configure-juju-to-your-favorite-cloud-provider">Configure Juju to your favorite cloud provider</h3>

<p>At this point you have access to the Juju client. Before you can deploy a
cluster you have to configure Juju with the 
<a href="https://jujucharms.com/docs/2.0/credentials">cloud credentials</a> for each 
cloud provider you would like to use.</p>

<p>Juju <a href="#cloud-compatibility">supports a wide variety of public clouds</a> to set
up the credentials for your chosen cloud see the
<a href="https://jujucharms.com/docs/devel/getting-started-general#2.-choose-a-cloud">cloud setup page</a>.</p>

<p>After configuration is complete test your setup with a <code class="highlighter-rouge">juju bootstrap</code>
command: <code class="highlighter-rouge">juju bootstrap $controllername $cloudtype</code> you are ready to launch 
the Kubernetes cluster.</p>

<h2 id="launch-a-kubernetes-cluster">Launch a Kubernetes cluster</h2>

<p>You can deploy a Kubernetes cluster with Juju from the <code class="highlighter-rouge">kubernetes</code> directory of 
the <a href="https://github.com/kubernetes/kubernetes.git">kubernetes github project</a>. 
Clone the repository on your local system. Export the <code class="highlighter-rouge">KUBERNETES_PROVIDER</code> 
environment variable before bringing up the cluster.</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>kubernetes
<span class="nb">export </span><span class="nv">KUBERNETES_PROVIDER</span><span class="o">=</span>juju
cluster/kube-up.sh
</code></pre>
</div>

<p>If this is your first time running the <code class="highlighter-rouge">kube-up.sh</code> script, it will attempt to
install the required dependencies to get started with Juju.</p>

<p>The script will deploy two nodes of Kubernetes, 1 unit of etcd, and network
the units so containers on different hosts can communicate with each other.</p>

<h2 id="exploring-the-cluster">Exploring the cluster</h2>

<p>The <code class="highlighter-rouge">juju status</code> command provides information about each unit in the cluster:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>juju status
MODEL    CONTROLLER  CLOUD/REGION     VERSION
default  windows     azure/centralus  2.0-beta13

APP         VERSION  STATUS  EXPOSED  ORIGIN      CHARM       REV  OS
etcd                 active  <span class="nb">false    </span>jujucharms  etcd        3    ubuntu
kubernetes           active  <span class="nb">true     </span>jujucharms  kubernetes  5    ubuntu

RELATION      PROVIDES    CONSUMES    TYPE
cluster       etcd        etcd        peer
etcd          etcd        kubernetes  regular
certificates  kubernetes  kubernetes  peer

UNIT          WORKLOAD  AGENT  MACHINE  PORTS     PUBLIC-ADDRESS  MESSAGE
etcd/0        active    idle   0        2379/tcp  13.67.217.11    <span class="o">(</span>leader<span class="o">)</span> cluster is healthy
kubernetes/0  active    idle   1        8088/tcp  13.67.219.76    Kubernetes running.
kubernetes/1  active    idle   2        6443/tcp  13.67.219.182   <span class="o">(</span>master<span class="o">)</span> Kubernetes running.

MACHINE  STATE    DNS            INS-ID     SERIES  AZ
0        started  13.67.217.11   machine-0  trusty  
1        started  13.67.219.76   machine-1  trusty  
2        started  13.67.219.182  machine-2  trusty 
</code></pre>
</div>

<h2 id="run-some-containers">Run some containers!</h2>

<p>The <code class="highlighter-rouge">kubectl</code> file, and the TLS certificates along with the configuration are
all available on the Kubernetes master unit. Fetch the kubectl package so you
can run commands on the new Kuberntetes cluster.</p>

<p>Use the <code class="highlighter-rouge">juju status</code> command to figure out which unit is the master. In the 
example above the “kubernetes/1” unit is the master. Use the <code class="highlighter-rouge">juju scp</code> 
command to copy the file from the unit:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju scp kubernetes/1:kubectl_package.tar.gz .
tar xvfz kubectl_package.tar.gz
./kubectl --kubeconfig kubeconfig get pods
</code></pre>
</div>

<p>If you are not on a Linux amd64 host system, you will need to find or build a
kubectl binary package for your architecture.</p>

<p>Copy the <code class="highlighter-rouge">kubeconfig</code> file to the home directory so you don’t have to specify 
it on the command line each time. The default location is 
<code class="highlighter-rouge">${HOME}/.kube/config</code>.</p>

<p>No pods will be available before starting a container:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>kubectl get pods
NAME READY STATUSRESTARTS   AGE

kubectl get replicationcontrollers
CONTROLLER  CONTAINER<span class="o">(</span>S<span class="o">)</span>  IMAGE<span class="o">(</span>S<span class="o">)</span>  SELECTOR  REPLICAS
</code></pre>
</div>

<p>We’ll follow the aws-coreos example. Create a pod manifest: <code class="highlighter-rouge">pod.json</code></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"apiVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pod"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
</span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"spec"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quay.io/kelseyhightower/hello"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
</span><span class="nt">"containerPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
</span><span class="nt">"hostPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Create the pod with kubectl:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>kubectl create -f pod.json
</code></pre>
</div>

<p>Get info on the pod:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>kubectl get pods
</code></pre>
</div>

<p>To test the hello app, we need to locate which node is hosting
the container. We can use <code class="highlighter-rouge">juju run</code> and <code class="highlighter-rouge">juju status</code> commands to find
our hello app.</p>

<p>Exit out of our ssh session and run:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju run --unit kubernetes/0 <span class="s2">"docker ps -n=1"</span>
...
juju run --unit kubernetes/1 <span class="s2">"docker ps -n=1"</span>
CONTAINER IDIMAGE  COMMAND CREATED STATUS  PORTS   NAMES
02beb61339d8quay.io/kelseyhightower/hello:latest   /hello  About an hour ago   Up About an hourk8s_hello....
</code></pre>
</div>

<p>We see “kubernetes/1” has our container, expose the kubernetes charm and open
port 80:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju run --unit kubernetes/1 <span class="s2">"open-port 80"</span>
juju expose kubernetes
sudo apt-get install curl
curl <span class="k">$(</span>juju status --format<span class="o">=</span>oneline kubernetes/1 | cut -d<span class="s1">' '</span> -f3<span class="k">)</span>
</code></pre>
</div>

<p>Finally delete the pod:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju ssh kubernetes/0
kubectl delete pods hello
</code></pre>
</div>

<h2 id="scale-up-cluster">Scale up cluster</h2>

<p>Want larger Kubernetes nodes? It is easy to request different sizes of cloud
resources from Juju by using <strong>constraints</strong>. You can increase the amount of
CPU or memory (RAM) in any of the systems requested by Juju. This allows you
to fine tune th Kubernetes cluster to fit your workload. Use flags on the
bootstrap command or as a separate <code class="highlighter-rouge">juju constraints</code> command. Look to the
<a href="https://jujucharms.com/docs/2.0/charms-constraints">Juju documentation for machine</a>
details.</p>

<h2 id="scale-out-cluster">Scale out cluster</h2>

<p>Need more workers? Juju makes it easy to add units of a charm:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju add-unit kubernetes
</code></pre>
</div>

<p>Or multiple units at one time:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju add-unit -n3 kubernetes
</code></pre>
</div>

<p>You can also scale the etcd charm for more fault tolerant key/value storage:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju add-unit -n2 etcd
</code></pre>
</div>

<h2 id="tear-down-cluster">Tear down cluster</h2>

<p>We recommend that you use the <code class="highlighter-rouge">kube-down.sh</code> script when you are done using
the cluster, as it properly brings down the cloud and removes some of the
build directories.</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>./cluster/kube-down.sh
</code></pre>
</div>

<p>Alternately if you want stop the servers you can destroy the Juju model or the
controller. Use the <code class="highlighter-rouge">juju switch</code> command to get the current controller name:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>juju switch
juju destroy-controller <span class="nv">$controllername</span> --destroy-all-models
</code></pre>
</div>

<h2 id="more-info">More Info</h2>

<p>Juju works with charms and bundles to deploy solutions. The code that stands up
a Kubernetes cluster is done in the charm code. The charm is built from using
a layered approach to keep the code smaller and more focused on the operations
of Kubernetes.</p>

<p>The Kubernetes layer and bundles can be found in the <code class="highlighter-rouge">kubernetes</code>
project on github.com:</p>

<ul>
  <li><a href="https://github.com/kubernetes/kubernetes/tree/master/cluster/juju/bundles">Bundle location</a></li>
  <li><a href="https://github.com/kubernetes/kubernetes/tree/master/cluster/juju/layers/kubernetes">Kubernetes charm layer location</a></li>
  <li><a href="https://jujucharms.com">More about Juju</a></li>
</ul>

<h3 id="cloud-compatibility">Cloud compatibility</h3>

<p>Juju is cloud agnostic and gives you a consistent experience across different
cloud providers. Juju supports a variety of public cloud providers: <a href="https://jujucharms.com/docs/2.0/help-aws">Amazon Web Service</a>,
<a href="https://jujucharms.com/docs/2.0/help-azure">Microsoft Azure</a>,
<a href="https://jujucharms.com/docs/2.0/help-google">Google Compute Engine</a>,
<a href="https://jujucharms.com/docs/2.0/help-joyent">Joyent</a>,
<a href="https://jujucharms.com/docs/2.0/help-rackspace">Rackspace</a>, any
<a href="https://jujucharms.com/docs/2.0/clouds#specifying-additional-clouds">OpenStack cloud</a>,
and
<a href="https://jujucharms.com/docs/2.0/config-vmware">Vmware vSphere</a>.</p>

<p>If you do not see your favorite cloud provider listed many clouds with ssh
access can be configured for
<a href="https://jujucharms.com/docs/2.0/clouds-manual">manual provisioning</a>.</p>

<p>To change to a different cloud you can use the <code class="highlighter-rouge">juju switch</code> command and set
up the credentials for that cloud provider and continue to use the <code class="highlighter-rouge">kubeup.sh</code>
script.</p>

<h2 id="support-level">Support Level</h2>

<table>
  <thead>
    <tr>
      <th>IaaS Provider</th>
      <th>Config. Mgmt</th>
      <th>OS</th>
      <th>Networking</th>
      <th>Docs</th>
      <th>Conforms</th>
      <th>Support Level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Amazon Web Services (AWS)</td>
      <td>Juju</td>
      <td>Ubuntu</td>
      <td>flannel</td>
      <td><a href="/docs/getting-started-guides/juju">docs</a></td>
      <td> </td>
      <td><a href="https://github.com/juju-solutions/bundle-kubernetes-core">Community</a> ( <a href="https://github.com/mbruzek">@mbruzek</a>, <a href="https://github.com/chuckbutler">@chuckbutler</a> )</td>
    </tr>
    <tr>
      <td>OpenStack</td>
      <td>Juju</td>
      <td>Ubuntu</td>
      <td>flannel</td>
      <td><a href="/docs/getting-started-guides/juju">docs</a></td>
      <td> </td>
      <td><a href="https://github.com/juju-solutions/bundle-kubernetes-core">Community</a> ( <a href="https://github.com/mbruzek">@mbruzek</a>, <a href="https://github.com/chuckbutler">@chuckbutler</a> )</td>
    </tr>
    <tr>
      <td>Microsoft Azure</td>
      <td>Juju</td>
      <td>Ubuntu</td>
      <td>flannel</td>
      <td><a href="/docs/getting-started-guides/juju">docs</a></td>
      <td> </td>
      <td><a href="https://github.com/juju-solutions/bundle-kubernetes-core">Community</a> ( <a href="https://github.com/mbruzek">@mbruzek</a>, <a href="https://github.com/chuckbutler">@chuckbutler</a> )</td>
    </tr>
    <tr>
      <td>Google Compute Engine (GCE)</td>
      <td>Juju</td>
      <td>Ubuntu</td>
      <td>flannel</td>
      <td><a href="/docs/getting-started-guides/juju">docs</a></td>
      <td> </td>
      <td><a href="https://github.com/juju-solutions/bundle-kubernetes-core">Community</a> ( <a href="https://github.com/mbruzek">@mbruzek</a>, <a href="https://github.com/chuckbutler">@chuckbutler</a> )</td>
    </tr>
  </tbody>
</table>

<p>For support level information on all solutions, see the <a href="/docs/getting-started-guides/#table-of-solutions">Table of solutions</a> chart.</p>

        <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/getting-started-guides/juju.md?pixel" alt="Analytics" /></a>
        <div id="pd_rating_holder_8345992"></div>
		<script type="text/javascript">
	        PDRTJS_settings_8345992 = {
		        "id" : "8345992",
		        "unique_id" : "/docs/getting-started-guides/juju/",
		        "title" : "Juju",
		        "permalink" : "http://kubernetes.github.io/docs/getting-started-guides/juju/"
	        };
	        (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
        </script>
	</div>
</section>

<footer>
	<main class="light-text">
		<nav>
			<a href="/docs/hellonode/">Get Started</a>
			<a href="/docs/">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/community/">Community</a>
		</nav>
		<div class="social">
			<div>
				<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
				<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
				<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			</div>
			<div>
				<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
				<a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
				<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
			</div>
			<div>
				<span>I wish this page</span>
				<input type="text" id="wishField" name="wishField" placeholder="enter your wish">
			</div>
		</div>
		<div id="miceType" class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>


<button class="flyout-button" onclick="kub.toggleToc()"></button>

<style>
	.cse .gsc-control-cse, .gsc-control-cse, {
		padding: 0;
	}
	.gsc-control-cse table, .gsc-control-cse-en table {
		margin:0px !important;
	}

	.gsc-above-wrapper-area {
		border-bottom: 0;
	}
</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36037335-10', 'auto');
  ga('send', 'pageview');
</script>
<!-- Commenting out AnswerDash for now; we need to work on our list of questions/answers/design first
<!-- Start of AnswerDash script <script>var AnswerDash;!function(e,t,n,s,a){if(!t.getElementById(s)){var i,r=t.createElement(n),c=t.getElementsByTagName(n)[0];e[a]||(i=e[a]=function(){i.__oninit.push(arguments)},i.__oninit=[]),r.type="text/javascript",r.async=!0,r.src="https://p1.answerdash.com/answerdash.min.js?siteid=756",r.setAttribute("id",s),c.parentNode.insertBefore(r,c)}}(window,document,"script","answerdash-script","AnswerDash");</script> <!-- End of AnswerDash script -->
</body>
</html>
